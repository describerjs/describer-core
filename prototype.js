define(["require", "exports", "jquery", "underscore", '_config', "core"], function (require, exports, $, _, _config) {
    "use strict";
    var Prototype = (function () {
        function Prototype(elem, options, pluginName, pos, jmname) {
            this.elem = elem;
            this.options = options;
            this.pluginName = pluginName;
            this.pos = pos;
            this.jmname = jmname;
            this.dcEvents = [];
            this.$elem = $(this.elem);
            this.myPos = pos;
            this.myJmName = jmname;
            this.name = pluginName;
            this.namePostfix = (this.name.slice(-2).charAt(0) === '_') ? this.name.slice(-2) : '';
            this.initExec();
        }
        Prototype.prototype._exec = function (e, p_data) { };
        ;
        Prototype.prototype.initExec = function () {
            this.configObj = this._getConfigObjArray();
            if ($.type(this.configObj['init']) !== 'undefined') {
                new Function('"use strict";' + this.configObj['init']).call(this);
            }
        };
        Prototype.prototype.onInitExec = function () {
        };
        Prototype.prototype.click = function (e) {
            if (this.includes('event', 'click') && this.isCondition())
                this._execWait(e);
        };
        Prototype.prototype.change = function (e) {
            if (this.includes('event', 'change') && this.isCondition())
                this._execWait(e);
        };
        Prototype.prototype.jmtrigger = function (e, e_param) {
            if ($.type(e_param) === 'undefined') {
                if (window.dc.config.debug) {
                    window.dc.dev.warn('Es wird kein Event mitgegeben. Zum einen muss im jmconfig-Objekt als Value z.B. \'jmtrigger:click\' für \'event\' angegeben werden und der Event muss entsprechend via jmtrigger(\'click\') gefeuert werden.');
                }
                return;
            }
            if (this.includes('event', 'jmtrigger:' + e_param.event) && this.isCondition())
                this._execWait(e, e_param.data);
        };
        Prototype.prototype.dominit = function (e) {
            if (this.includes('event', 'dominit') && this.isCondition())
                this._execWait(e);
            if (this.partOf('event', 'raf'))
                this._raf(e);
            if (this.partOf('event', 'interval'))
                this._interval(e);
            if (this.includes('event', 'init-by-perf'))
                this._initByPerf(e);
            if (this.partOf('event', 'keyup'))
                this._keyup(e);
            if (this.partOf('event', 'mouseenter'))
                this.$elem.on('mouseenter', this._execWaitAfterCondition.bind(this));
            if (this.partOf('event', 'mouseleave'))
                this.$elem.on('mouseleave', this._execWaitAfterCondition.bind(this));
            if (this.includes('event', 'blur'))
                this.$elem.on('blur', this._execWaitAfterCondition.bind(this));
            if (this.includes('event', 'focus'))
                this.$elem.on('focus', this._execWaitAfterCondition.bind(this));
            if (this.includes('event', 'hover'))
                this.$elem.on('mouseover', this._execWaitAfterCondition.bind(this));
            if (this.startsWith('event', 'dc-')) {
                for (var i = 0, leni = this.dcEvents.length; i < leni; i++) {
                    this.$elem.closest('body').on(this.dcEvents[i], this._execWaitAfterCondition.bind(this));
                }
            }
        };
        Prototype.prototype.is = function (p_dataAttr, p_value, p_now) {
            var _returnString;
            if ($.type(p_dataAttr) === 'undefined') {
                window.dc.dev.error('es wurde kein Parameter übergeben');
                return;
            }
            this.configObj = this._getConfigObjArray(p_now);
            if ($.type(this.configObj[p_dataAttr]) === 'undefined') {
                return '';
            }
            if ($.type(p_value) !== 'undefined') {
                return this.configObj[p_dataAttr] === p_value;
            }
            _returnString = this.configObj[p_dataAttr];
            switch (p_dataAttr) {
                case 'relatedTo':
                case 'scrollTo':
                case 'scrollToOffset':
                case 'data':
                case 'loaderTo':
                case 'event':
                    return ((this.configObj[p_dataAttr].indexOf('this.') !== -1) || (this.configObj[p_dataAttr].indexOf('window.jmHF') !== -1) || (this.configObj[p_dataAttr].indexOf('window.dc') !== -1)) ? eval(_returnString) : _returnString;
                default:
                    return _returnString;
            }
        };
        Prototype.prototype.isNow = function (p_dataAttr, p_value) {
            this.is(p_dataAttr, p_value, true);
        };
        Prototype.prototype.isCondition = function (p_value, p_now) {
            if (p_value === void 0) { p_value = 'not defined'; }
            if (p_now === void 0) { p_now = false; }
            this.configObj = this._getConfigObjArray(p_now);
            if (p_value === 'source') {
                return ($.type(this.configObj['condition']) !== 'undefined') ? this.configObj['condition'] : true;
            }
            return ($.type(this.configObj['condition']) !== 'undefined') ? eval(this.configObj['condition']) : true;
        };
        Prototype.prototype.includes = function (p_dataAttr, p_value, p_now) {
            if (p_now === void 0) { p_now = false; }
            var _array_value;
            this.configObj = this._getConfigObjArray(p_now);
            if ($.type(this.configObj[p_dataAttr]) === 'undefined') {
                return;
            }
            if (this.configObj[p_dataAttr].indexOf('this.') === -1) {
                return $.inArray(p_value, this.configObj[p_dataAttr].split('|')) !== -1;
            }
            _array_value = this.configObj[p_dataAttr].split('|');
            for (var i = 0, leni = _array_value.length; i < leni; i++) {
                if ((_array_value[i].indexOf('this.') != -1) && (_array_value[i].indexOf('jmtrigger:') != -1)) {
                    _array_value[i] = eval(_array_value[i]);
                }
            }
            return $.inArray(p_value, _array_value) !== -1;
        };
        Prototype.prototype.startsWithNow = function (p_dataAttr, p_value) {
            this.startsWith(p_dataAttr, p_value, true);
        };
        Prototype.prototype.startsWith = function (p_dataAttr, p_value, p_now) {
            if (p_now === void 0) { p_now = false; }
            var that = this;
            this.configObj = this._getConfigObjArray(p_now);
            return ($.type(this.configObj[p_dataAttr]) !== 'undefined' && ($.inArray(true, $.map(this.configObj[p_dataAttr].split('|'), function (s) {
                if (/^dc-/i.test(s)) {
                    that.dcEvents = that.dcEvents || [];
                    if (that.dcEvents[s])
                        return true;
                    that.dcEvents.push(s);
                    return true;
                }
                return false;
            }))) !== -1);
        };
        Prototype.prototype.includesNow = function (p_dataAttr, p_value) {
            this.includes(p_dataAttr, p_value, true);
        };
        Prototype.prototype.partOf = function (p_dataAttr, p_value, p_now) {
            if (p_now === void 0) { p_now = false; }
            this.configObj = this._getConfigObjArray(p_now);
            return ($.type(this.configObj[p_dataAttr]) !== 'undefined' && ($.inArray(true, $.map(this.configObj[p_dataAttr].split('|'), function (s) {
                return (s.indexOf(p_value) > -1);
            }))) !== -1);
        };
        Prototype.prototype.partOfNow = function (p_dataAttr, p_value) {
            this.partOf(p_dataAttr, p_value, true);
        };
        Prototype.prototype.getPartOf = function (p_dataAttr, p_value, p_now) {
            var _return;
            this.configObj = this._getConfigObjArray(p_now);
            if ($.type(this.configObj[p_dataAttr]) === 'undefined') {
                return;
            }
            _return = $.map(this.configObj[p_dataAttr].split('|'), function (s) {
                if (s.indexOf(p_value) > -1) {
                    return s;
                }
            })[0];
            return _return || '';
        };
        Prototype.prototype._interval = function (e) {
            var that = this;
            setInterval(function () {
                if (that.isCondition())
                    that._execWait(e);
            }, parseInt(this.getPartOf('event', 'interval').split('interval-')[1], 10));
        };
        Prototype.prototype._keyup = function (e) {
            var _delay;
            if ($.type(parseInt(this.getPartOf('event', 'keyup').split('delay-')[1], 10)) === 'number') {
                _delay = parseInt(this.getPartOf('event', 'keyup').split('delay-')[1], 10);
            }
            this.$elem.on('keyup', _.debounce(this._execWaitAfterCondition.bind(this, e), _delay));
        };
        Prototype.prototype._raf = function (e) {
            this.guaranteeDCRAF();
            this.oneTimeExec = this.getPartOf('event', 'raf').indexOf('-one') !== -1;
            this.renderDelay = this._getRenderDelay();
            this.conditionSource = this.isCondition('source');
            this._addRenderFunctionToRafExecIterationObj(e);
        };
        Prototype.prototype._initByPerf = function (e) {
            var _initByPerfCounter = 2;
            if (window.dc.perf.level === 0) {
                return;
            }
            if (window.dc.perf.level === 1 || window.dc.perf.level === 4) {
                this._execWaitAfterCondition(e);
                return;
            }
            if (!window.dc.raf.win) {
                this._createRAFObjects();
            }
            window.dc.perf.onHoldArray = window.dc.perf.onHoldArray || [];
            window.dc.perf.onHoldArrayExecuted = window.dc.perf.onHoldArrayExecuted || false;
            window.dc.perf.onHoldArray.push({ 'obj': this, 'e': e, 'exec': false });
            for (var i = 0, leni = window.dc.perf.onHoldArray.length; i < leni; i++) {
                if (_initByPerfCounter > i) {
                    this._applyOnHoldPlugin(i);
                }
            }
            if ($.type(window.dc.perf.intervalIDForOnHoldPlugins) === 'undefined') {
                window.dc.perf.intervalIDForOnHoldPlugins = setInterval(this._intervalForApplyOnHoldPlugins.bind(this), 1000);
                setTimeout(function () {
                    clearInterval(window.dc.perf.intervalIDForOnHoldPlugins);
                }, 15000);
            }
        };
        Prototype.prototype._execWaitAfterCondition = function (e) {
            if (this.isCondition()) {
                this._execWait(e);
            }
        };
        Prototype.prototype._execWait = function (e, p_data) {
            if (p_data === void 0) { p_data = undefined; }
            var that = this;
            if (this.is('wait') === '') {
                this._exec(e, p_data);
                return;
            }
            if (this.is('wait') === 'raf') {
                window.requestAnimationFrame(this._exec.bind(this, e, p_data));
                return;
            }
            if (this.is('wait') !== '') {
                setTimeout(function () { that._exec(e, p_data); }, parseInt(this.is('wait'), 10));
            }
        };
        Prototype.prototype._getRenderDelay = function () {
            var _filteredRafString = this.getPartOf('event', 'raf').replace('raf-', '').replace('-one', '').replace('ms', '').replace('raf', '');
            return (_filteredRafString !== '') ? parseInt(_filteredRafString, 10) + Math.ceil(Math.random() * parseInt(_filteredRafString, 10) / 4) : 1;
        };
        Prototype.prototype._applyOnHoldPlugin = function (index) {
            var _obj = window.dc.perf.onHoldArray[index].obj;
            if (!window.dc.perf.onHoldArray[index].exec) {
                window.dc.perf.onHoldArray[index].exec = true;
                _obj._execWaitAfterCondition();
            }
        };
        Prototype.prototype._intervalForApplyOnHoldPlugins = function () {
            var _obj;
            if (window.dc.perf.onHoldArray && !window.dc.perf.onHoldArrayExecuted && window.dc.raf.win._avgrafs > 45) {
                for (var i = 0, leni = window.dc.perf.onHoldArray.length; i < leni; i++) {
                    _obj = window.dc.perf.onHoldArray[i].obj;
                    if (!_obj.exec) {
                        _obj.exec = true;
                        _obj._execWaitAfterCondition();
                        if (window.dc.dev.debugview) {
                            $('#init-by-perf-counter').text(' init-fx: ' + (i + 1) + '/' + leni);
                        }
                        return;
                    }
                    else if ((leni - 1) === i) {
                        window.dc.perf.onHoldArrayExecuted = true;
                    }
                }
            }
        };
        Prototype.prototype._getConfigObjArray = function (p_now) {
            if (p_now === void 0) { p_now = false; }
            if (p_now && Object.keys(this.initConfigObj).length > 0) {
                return this.initConfigObj;
            }
            if ($.type(this._getAttrWithOrWithoutPostfix_1() || this.$elem.data('jmconfig')) === 'undefined') {
                return this.initConfigObj = this.staticObj || this._getStaticConfigObj();
            }
            return this.initConfigObj = $.extend({}, (this.staticObj || this._getStaticConfigObj()), this._getObjFromDom(p_now));
        };
        Prototype.prototype._getAttrWithOrWithoutPostfix_1 = function () {
            return this.staticAttrFromDom || (this.staticAttrFromDom = (this.namePostfix === '_1') ? (this.$elem.attr('data-dcconfig--' + this.myJmName + '--' + this.name) || this.$elem.attr('data-dcconfig--' + this.myJmName + '--' + this.name.split('_1')[0])) : (this.$elem.attr('data-dcconfig--' + this.myJmName + '--' + this.name) || this.$elem.attr('data-dcconfig--' + this.myJmName + '--' + this.name + '_1')));
        };
        Prototype.prototype._getObjFromDom = function (p_now) {
            if (window.dc.config.debug) {
                if (this.$elem.data('jmconfig') && window.dc.helper.attrPrefixCounter(this.$elem[0], 'data-dcconfig')) {
                    window.dc.dev.warn('data-jmconfig und data-dcconfig dürfen nicht zusammen als Attribut auf folgenden Tag verwendet. data-jmconfig ist depricated. Die Überschreibung der config-Objekte ist mit data-dcconfig--... durchzuführen.');
                }
            }
            if (this._getAttrWithOrWithoutPostfix_1()) {
                return this._getObjFromDcConfigAttr(p_now);
            }
            return {};
        };
        Prototype.prototype._getObjFromDcConfigAttr = function (p_now) {
            if ($.type(p_now) === 'undefined' && $.type(this.staticObjFromDom) !== 'undefined') {
                return this.staticObjFromDom;
            }
            return this.staticObjFromDom = JSON.parse(this._getAttrWithOrWithoutPostfix_1().replace(/'/g, "\""));
        };
        Prototype.prototype._getStaticConfigObj = function () {
            var _objForMyJmName = _config.default[window.dc.helper.camelCase(this.myJmName)];
            if (_objForMyJmName.hasOwnProperty('event')) {
                return this.staticObj = _objForMyJmName;
            }
            return this.staticObj = _objForMyJmName[this.name];
        };
        Prototype.prototype.guaranteeDCRAF = function () {
            if (window.dc.raf.iterationSingleton) {
                return;
            }
            window.dc.raf.iterationSingleton = true;
            this._createRAFObjects();
            if (window.dc.dev.debugview) {
                this.thempCountedFrames = 0;
                this._applyRAFDeveloperView();
            }
            this._everyRAF();
        };
        Prototype.prototype._createRAFObjects = function () {
            window.dc.raf.win = {
                pageYOffset: null,
                innerHeight: null,
                innerWidth: null,
                outerHeight: null,
                documentHeight: null,
                _startTime: Date.now(),
                _counter: 0,
                _rafs: null,
                _avgrafs: null
            };
            window.dc.raf.execIterationObj = {
                countProperties: function () {
                    var count = 0;
                    for (var property in this) {
                        if (this.hasOwnProperty(property) && this.property !== null) {
                            count += 1;
                        }
                    }
                    return count;
                }
            };
        };
        Prototype.prototype._applyRAFDeveloperView = function () {
            var that = this;
            $('body').append('<div style="position: fixed; color:#eee; font-weight: bold; bottom: 0; left: 0; background-color:rgba(0,0,0,.2); padding-top: 1rem; padding-left: 1rem; padding-right: 1rem; padding-bottom: 2rem; width: 100%; z-index: 9999"><span style="padding: 1rem; float: left; background-color: rgba(30,30,30,.8)" id="fps-counter" >avg: --- fps | now: --- fps</span></div>');
            this.$acount = $('#fps-counter');
            setInterval(function () {
                if (window.dc.raf.win._counter < that.thempCountedFrames) {
                    this.thempCountedFrames = this.thempCountedFrames + 100000001;
                }
                window.dc.raf.win._rafs = window.dc.raf.win._counter - this.thempCountedFrames;
                window.dc.raf.win._avgrafs = Math.round(window.dc.raf.win._counter / ((Date.now() - window.dc.raf.win._startTime) / 1000));
                this.$acount.text('avg: ' + window.dc.raf.win._avgrafs + ' fps | now: ' + window.dc.raf.win._rafs + ' fps');
                if (window.dc.perf.onHoldArray && $.type(that.$initByPerfCounter) === 'undefined') {
                    this.$acount.after('<span style="padding: 1rem; float: right; background-color: rgba(30,30,30,.8)" id="init-by-perf-counter"> init-fx: 2/?</span>');
                    this.$initByPerfCounter = $('#init-by-perf-counter');
                    if (window.dc.perf.level === 1)
                        this.$initByPerfCounter.text(' init-fx: all ');
                    if (window.dc.perf.level === 2)
                        this.$initByPerfCounter.text(' init-fx: 2 ');
                }
                that.thempCountedFrames = window.dc.raf.win._counter;
            }.bind(this), 1000);
        };
        Prototype.prototype._everyRAF = function () {
            var _oldDocumentHeight = window.dc.raf.win.documentHeight || document.body.offsetHeight;
            window.dc.raf.win.pageYOffset = window.pageYOffset;
            window.dc.raf.win.innerHeight = (window.dc.client._orientation_old === window.dc.client.orientation) ? window.dc.raf.win.innerHeight : window.innerHeight;
            window.dc.raf.win.innerWidth = window.innerWidth;
            window.dc.raf.win._counter = window.dc.raf.win._counter + 1;
            window.dc.raf.win.documentHeight = document.body.offsetHeight;
            if (window.dc.raf.win._counter === 100000001) {
                window.dc.raf.win._counter = 1;
            }
            for (var property in window.dc.raf.execIterationObj) {
                if (window.dc.raf.execIterationObj.hasOwnProperty(property) && ('countProperties' !== property)) {
                    window.dc.raf.execIterationObj[property]();
                }
            }
            window.dc.client._orientation_old = window.dc.client.orientation;
            window.requestAnimationFrame(this._everyRAF.bind(this));
            if (_oldDocumentHeight !== window.dc.raf.win.documentHeight) {
                $('body').trigger('dc-documentHeightChange');
            }
        };
        Prototype.prototype._render = function (e) {
            if ((window.dc.raf.win._counter % this.renderDelay) !== 0) {
                return;
            }
            if (this.$elem[0].offsetHeight === 0) {
                return;
            }
            if (!this.oneTimeExec && eval(this.conditionSource)) {
                this._exec(e);
                return;
            }
            if (this.oneTimeExec && eval(this.conditionSource)) {
                this._exec(e);
                this._removeRenderFunctionFromRafExecIterationObj();
            }
        };
        Prototype.prototype._addRenderFunctionToRafExecIterationObj = function (e) {
            this.renderFunctionIndex = window.dc.raf.execIterationObj.countProperties();
            window.dc.raf.execIterationObj['renderFunction_' + this.renderFunctionIndex] = this._render.bind(this, e);
        };
        Prototype.prototype._removeRenderFunctionFromRafExecIterationObj = function () {
            window.dc.raf.execIterationObj['renderFunction_' + this.renderFunctionIndex] = null;
            delete window.dc.raf.execIterationObj['renderFunction_' + this.renderFunctionIndex];
        };
        Prototype.prototype.getRelatedToElem = function () {
            return (this.relatedTo) ? this.relatedTo : this.relatedTo = ((this.is('relatedTo') !== '') ? $(this.is('relatedTo')) : this.$elem);
        };
        Prototype.prototype.getUniqueId = function () {
            if (this.uniqueId) {
                return this.uniqueId;
            }
            return this.uniqueId = window.dc.helper.uuID.generate();
        };
        Prototype.prototype._finishing = function (p_$data) {
            var that = this;
            this._scrollTo();
            if ($.type(p_$data) !== 'undefined') {
                setTimeout(function () {
                    p_$data
                        .requirementsForJmPlugins()
                        .triggerSelfexecObj()
                        .picturefill();
                    that._callback();
                }, 200);
                return;
            }
            this._callback();
        };
        Prototype.prototype._scrollTo = function () {
            if (this.is('scrollTo') === '') {
                return;
            }
            if ($.type(this.is('scrollTo')) === 'number') {
                window.dc.helper.scrollToPosition(this.is('scrollTo'), (this.is('speed') !== '') ? parseInt(this.is('speed'), 10) : undefined);
                return;
            }
            if ($.type(this.is('scrollTo')) === 'string') {
                try {
                    if ($.type($(this.is('scrollTo'))) === 'object') {
                        $(this.is('scrollTo')).scrollToMe((this.is('scrollToOffset') !== '') ? parseInt(this.is('scrollToOffset'), 10) : 0, (this.is('speed') !== '') ? parseInt(this.is('speed'), 10) : undefined);
                        return;
                    }
                    window.dc.dev.warn('falsche angabe für scrollTo');
                }
                catch (e) {
                    window.dc.dev.error('falsche angabe für scrollTo');
                    console.error(e.message);
                }
            }
        };
        Prototype.prototype._callback = function () {
            if ($.type(this.is('callback') !== 'undefined'))
                eval(this.is('callback').replace(/\n/g, ''));
        };
        return Prototype;
    }());
    exports.Prototype = Prototype;
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2NyaWJlci1jb3JlL3Byb3RvdHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztJQXVCQTtRQXdCQyxtQkFBbUIsSUFBaUIsRUFBUyxPQUFjLEVBQVMsVUFBa0IsRUFBUyxHQUFXLEVBQVMsTUFBYTtZQUE3RyxTQUFJLEdBQUosSUFBSSxDQUFhO1lBQVMsWUFBTyxHQUFQLE9BQU8sQ0FBTztZQUFTLGVBQVUsR0FBVixVQUFVLENBQVE7WUFBUyxRQUFHLEdBQUgsR0FBRyxDQUFRO1lBQVMsV0FBTSxHQUFOLE1BQU0sQ0FBTztZQWhCN0gsYUFBUSxHQUFZLEVBQUUsQ0FBQztZQWlCekIsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTFCLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUV0RixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFakIsQ0FBQztRQW5CRCx5QkFBSyxHQUFMLFVBQU0sQ0FBTyxFQUFFLE1BQVcsSUFBRSxDQUFDOztRQXFCN0IsNEJBQVEsR0FBUjtZQUNDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDM0MsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDcEQsSUFBSSxRQUFRLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkUsQ0FBQztRQUNGLENBQUM7UUFFRCw4QkFBVSxHQUFWO1FBRUEsQ0FBQztRQVdELHlCQUFLLEdBQUwsVUFBTSxDQUFDO1lBQ04sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUUsQ0FBQztRQUdELDBCQUFNLEdBQU4sVUFBTyxDQUFDO1lBQ1AsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0UsQ0FBQztRQUdELDZCQUFTLEdBQVQsVUFBVSxDQUFDLEVBQUUsT0FBTztZQUNuQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQzVCLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyw4TUFBOE0sQ0FBQyxDQUFDO2dCQUNwTyxDQUFDO2dCQUNELE1BQU0sQ0FBQztZQUNSLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxZQUFZLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakgsQ0FBQztRQUdELDJCQUFPLEdBQVAsVUFBUSxDQUFDO1lBQ1IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFHL0UsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztnQkFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO2dCQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFHaEUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQztnQkFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzdHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO2dCQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDN0csRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNuRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3JHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFFekcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDNUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMxRixDQUFDO1lBQ0YsQ0FBQztRQUNGLENBQUM7UUFhRCxzQkFBRSxHQUFGLFVBQUcsVUFBaUIsRUFBRSxPQUFlLEVBQUUsS0FBYztZQUNwRCxJQUFJLGFBQWEsQ0FBQztZQUNsQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO2dCQUN6RCxNQUFNLENBQUM7WUFDUixDQUFDO1lBRUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFaEQsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDeEQsTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUNYLENBQUM7WUFFRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxLQUFLLE9BQU8sQ0FBQztZQUMvQyxDQUFDO1lBR0QsYUFBYSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDM0MsTUFBTSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFHcEIsS0FBSyxXQUFXLENBQUM7Z0JBQ2pCLEtBQUssVUFBVSxDQUFDO2dCQUNoQixLQUFLLGdCQUFnQixDQUFDO2dCQUN0QixLQUFLLE1BQU0sQ0FBQztnQkFDWixLQUFLLFVBQVUsQ0FBQztnQkFDaEIsS0FBSyxPQUFPO29CQUVYLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLGFBQWEsQ0FBQztnQkFDL047b0JBRUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztZQUN2QixDQUFDO1FBQ0YsQ0FBQztRQUdELHlCQUFLLEdBQUwsVUFBTSxVQUFVLEVBQUUsT0FBTztZQUV4QixJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEMsQ0FBQztRQUVELCtCQUFXLEdBQVgsVUFBWSxPQUE4QixFQUFFLEtBQXFCO1lBQXJELHVCQUE4QixHQUE5Qix1QkFBOEI7WUFBRSxxQkFBcUIsR0FBckIsYUFBcUI7WUFDaEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFaEQsRUFBRSxDQUFDLENBQUMsT0FBTyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBRTFCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBQ25HLENBQUM7WUFHRCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUN6RyxDQUFDO1FBRUQsNEJBQVEsR0FBUixVQUFTLFVBQWlCLEVBQUUsT0FBYyxFQUFFLEtBQXFCO1lBQXJCLHFCQUFxQixHQUFyQixhQUFxQjtZQUNoRSxJQUFJLFlBQVksQ0FBQztZQUNqQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUdoRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDO2dCQUN4RCxNQUFNLENBQUM7WUFDUixDQUFDO1lBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN4RCxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN6RSxDQUFDO1lBRUQsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JELEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQzNELEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDL0YsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekMsQ0FBQztZQUNGLENBQUM7WUFDRCxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDaEQsQ0FBQztRQUdELGlDQUFhLEdBQWIsVUFBYyxVQUFVLEVBQUUsT0FBTztZQUNoQyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUMsQ0FBQztRQUVELDhCQUFVLEdBQVYsVUFBVyxVQUFpQixFQUFFLE9BQWMsRUFBRSxLQUFxQjtZQUFyQixxQkFBcUIsR0FBckIsYUFBcUI7WUFDbEUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBR2hELE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsVUFBUyxDQUFDO2dCQUNySSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQztvQkFDcEMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDO29CQUNsQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQztnQkFDYixDQUFDO2dCQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDZCxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLENBQUM7UUFHRCwrQkFBVyxHQUFYLFVBQVksVUFBVSxFQUFFLE9BQU87WUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLENBQUM7UUFFRCwwQkFBTSxHQUFOLFVBQU8sVUFBaUIsRUFBRSxPQUFjLEVBQUUsS0FBcUI7WUFBckIscUJBQXFCLEdBQXJCLGFBQXFCO1lBQzlELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBR2hELE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsVUFBUyxDQUFDO2dCQUNySSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZCxDQUFDO1FBRUQsNkJBQVMsR0FBVCxVQUFVLFVBQVUsRUFBRSxPQUFPO1lBQzVCLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4QyxDQUFDO1FBRUQsNkJBQVMsR0FBVCxVQUFVLFVBQVUsRUFBRSxPQUFPLEVBQUUsS0FBYztZQUM1QyxJQUFJLE9BQU8sQ0FBQztZQUNaLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hELE1BQU0sQ0FBQztZQUNSLENBQUM7WUFFRCxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxVQUFTLENBQUM7Z0JBQ2hFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUM3QixNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNWLENBQUM7WUFDRixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVOLE1BQU0sQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3RCLENBQUM7UUFXRCw2QkFBUyxHQUFULFVBQVUsQ0FBQztZQUNWLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztZQUNoQixXQUFXLENBQUM7Z0JBQ1gsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFM0MsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM3RSxDQUFDO1FBRUQsMEJBQU0sR0FBTixVQUFPLENBQUM7WUFDUCxJQUFJLE1BQU0sQ0FBQztZQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQzVGLE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQzVFLENBQUM7WUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3hGLENBQUM7UUFFRCx3QkFBSSxHQUFKLFVBQUssQ0FBQztZQUNMLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUV0QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN6RSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUUxQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEQsSUFBSSxDQUFDLHVDQUF1QyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWpELENBQUM7UUFFRCwrQkFBVyxHQUFYLFVBQVksQ0FBQztZQUNaLElBQUksa0JBQWtCLEdBQUcsQ0FBQyxDQUFDO1lBQzNCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoQyxNQUFNLENBQUM7WUFDUixDQUFDO1lBQ0QsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUQsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoQyxNQUFNLENBQUM7WUFDUixDQUFDO1lBRUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUMxQixDQUFDO1lBRUQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUM7WUFDOUQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLElBQUksS0FBSyxDQUFDO1lBQ2pGLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDeEUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDekUsRUFBRSxDQUFDLENBQUMsa0JBQWtCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDNUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixDQUFDO1lBQ0YsQ0FBQztZQUVELEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUMsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDO2dCQUN2RSxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQywwQkFBMEIsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLDhCQUE4QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDOUcsVUFBVSxDQUFDO29CQUNWLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO2dCQUMxRCxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDWCxDQUFDO1FBQ0YsQ0FBQztRQUVELDJDQUF1QixHQUF2QixVQUF3QixDQUFDO1lBQ3hCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsQ0FBQztRQUNGLENBQUM7UUFFRCw2QkFBUyxHQUFULFVBQVUsQ0FBTyxFQUFFLE1BQXNCO1lBQXRCLHNCQUFzQixHQUF0QixrQkFBc0I7WUFDeEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQ3RCLE1BQU0sQ0FBQztZQUNSLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQy9CLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQy9ELE1BQU0sQ0FBQztZQUNSLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLFVBQVUsQ0FBQyxjQUFhLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbEYsQ0FBQztRQUNGLENBQUM7UUFXRCxtQ0FBZSxHQUFmO1lBQ0UsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3JJLE1BQU0sQ0FBQyxDQUFDLGtCQUFrQixLQUFLLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVJLENBQUM7UUFFRCxzQ0FBa0IsR0FBbEIsVUFBbUIsS0FBSztZQUN2QixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDO1lBQ2pELEVBQUUsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUM7Z0JBQzNDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUM5QyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1FBQ0YsQ0FBQztRQUVELGtEQUE4QixHQUE5QjtZQUNDLElBQUksSUFBSSxDQUFDO1lBQ1QsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsQ0FBQSxDQUFDO2dCQUN4RyxHQUFHLENBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBQyxDQUFDO29CQUN2RSxJQUFJLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFDekMsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQzt3QkFDZCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzt3QkFDakIsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7d0JBQy9CLEVBQUUsQ0FBQSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBLENBQUM7NEJBQzNCLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxHQUFDLElBQUksQ0FBQyxDQUFDO3dCQUM5RCxDQUFDO3dCQUNELE1BQU0sQ0FBQztvQkFDUixDQUFDO29CQUFBLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksR0FBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO3dCQUN6QixNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7b0JBQzNDLENBQUM7Z0JBQ0YsQ0FBQztZQUNGLENBQUM7UUFDRixDQUFDO1FBYUQsc0NBQWtCLEdBQWxCLFVBQW1CLEtBQXFCO1lBQXJCLHFCQUFxQixHQUFyQixhQUFxQjtZQUV2QyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXpELE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO1lBQzNCLENBQUM7WUFFRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyw4QkFBOEIsRUFBRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFFbEcsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUMxRSxDQUFDO1lBSUQsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3RILENBQUM7UUFFRCxrREFBOEIsR0FBOUI7WUFDQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDclosQ0FBQztRQUVELGtDQUFjLEdBQWQsVUFBZSxLQUFLO1lBQ25CLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN2RyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsK01BQStNLENBQUMsQ0FBQztnQkFDck8sQ0FBQztZQUNGLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsOEJBQThCLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUMsQ0FBQztZQUNELE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDWCxDQUFDO1FBRUQsMkNBQXVCLEdBQXZCLFVBQXdCLEtBQUs7WUFFNUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDO2dCQUVwRixNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1lBQzlCLENBQUM7WUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLDhCQUE4QixFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3RHLENBQUM7UUFHRCx1Q0FBbUIsR0FBbkI7WUFDQyxJQUFJLGVBQWUsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNqRixFQUFFLENBQUMsQ0FBQyxlQUFlLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsZUFBZSxDQUFDO1lBQ3pDLENBQUM7WUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BELENBQUM7UUFZRCxrQ0FBYyxHQUFkO1lBQ0MsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxNQUFNLENBQUM7WUFDUixDQUFDO1lBQ0QsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3pCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxDQUFDLENBQUM7Z0JBQzVCLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1lBQy9CLENBQUM7WUFDRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbEIsQ0FBQztRQUVELHFDQUFpQixHQUFqQjtZQUNDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRztnQkFDbkIsV0FBVyxFQUFFLElBQUk7Z0JBQ2pCLFdBQVcsRUFBRSxJQUFJO2dCQUNqQixVQUFVLEVBQUUsSUFBSTtnQkFDaEIsV0FBVyxFQUFFLElBQUk7Z0JBQ2pCLGNBQWMsRUFBRSxJQUFJO2dCQUNwQixVQUFVLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDdEIsUUFBUSxFQUFFLENBQUM7Z0JBQ1gsS0FBSyxFQUFFLElBQUk7Z0JBQ1gsUUFBUSxFQUFFLElBQUk7YUFDZCxDQUFDO1lBQ0YsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUc7Z0JBQ2hDLGVBQWUsRUFBRTtvQkFDaEIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNkLEdBQUcsQ0FBQyxDQUFDLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7d0JBQzNCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDOzRCQUM3RCxLQUFLLElBQUksQ0FBQyxDQUFDO3dCQUNaLENBQUM7b0JBQ0YsQ0FBQztvQkFDRCxNQUFNLENBQUMsS0FBSyxDQUFDO2dCQUNkLENBQUM7YUFDRCxDQUFDO1FBQ0gsQ0FBQztRQUVELDBDQUFzQixHQUF0QjtZQUNDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztZQUVoQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLHlXQUF5VyxDQUFDLENBQUM7WUFDNVgsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUM7WUFFakMsV0FBVyxDQUFDO2dCQUNYLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztvQkFDMUQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxTQUFTLENBQUM7Z0JBQy9ELENBQUM7Z0JBQ0QsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztnQkFDL0UsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFFM0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsY0FBYyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUM7Z0JBRTVHLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7b0JBQ25GLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLCtIQUErSCxDQUFDLENBQUM7b0JBQ3BKLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxDQUFDLENBQUMsdUJBQXVCLENBQUMsQ0FBQztvQkFDckQsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQzt3QkFBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7b0JBQy9FLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUM7d0JBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDOUUsQ0FBQztnQkFDRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztZQUN0RCxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JCLENBQUM7UUFXRCw2QkFBUyxHQUFUO1lBQ0MsSUFBSSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsY0FBYyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBRXhGLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztZQUNuRCxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEtBQUssTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO1lBQzFKLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztZQUNqRCxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7WUFFOUQsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUM5QyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztZQUNoQyxDQUFDO1lBRUQsR0FBRyxDQUFDLENBQUMsSUFBSSxRQUFRLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ2pHLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7Z0JBQzVDLENBQUM7WUFDRixDQUFDO1lBQ0QsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO1lBQ2pFLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3hELEVBQUUsQ0FBQyxDQUFDLGtCQUFrQixLQUFLLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO2dCQUM3RCxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDOUMsQ0FBQztRQUNGLENBQUM7UUFFRCwyQkFBTyxHQUFQLFVBQVEsQ0FBQztZQUNSLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0QsTUFBTSxDQUFDO1lBQ1IsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RDLE1BQU0sQ0FBQztZQUNSLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JELElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2QsTUFBTSxDQUFDO1lBQ1IsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BELElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2QsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLENBQUM7WUFDckQsQ0FBQztRQUNGLENBQUM7UUFXRCwyREFBdUMsR0FBdkMsVUFBd0MsQ0FBQztZQUN4QyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDNUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzNHLENBQUM7UUFFRCxnRUFBNEMsR0FBNUM7WUFDQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxJQUFJLENBQUM7WUFDcEYsT0FBTyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNyRixDQUFDO1FBV0Qsb0NBQWdCLEdBQWhCO1lBQ0MsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwSSxDQUFDO1FBRUQsK0JBQVcsR0FBWDtZQUNDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN0QixDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3pELENBQUM7UUFFRCw4QkFBVSxHQUFWLFVBQVcsT0FBTztZQUNqQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7WUFDaEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDckMsVUFBVSxDQUFDO29CQUNWLE9BQU87eUJBQ0wsd0JBQXdCLEVBQUU7eUJBQzFCLGtCQUFrQixFQUFFO3lCQUNwQixXQUFXLEVBQUUsQ0FBQztvQkFDaEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUNsQixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ1IsTUFBTSxDQUFDO1lBQ1IsQ0FBQztZQUNELElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNsQixDQUFDO1FBRUQsNkJBQVMsR0FBVDtZQUNDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDaEMsTUFBTSxDQUFDO1lBQ1IsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDO2dCQUMvSCxNQUFNLENBQUM7WUFDUixDQUFDO1lBQ0QsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDOUMsSUFBSSxDQUFDO29CQUNKLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7d0JBQ2pELENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQzt3QkFDNUwsTUFBTSxDQUFDO29CQUNSLENBQUM7b0JBQ0QsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLDZCQUE2QixDQUFDLENBQUM7Z0JBQ25ELENBQUU7Z0JBQUEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDWixNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztvQkFDbkQsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzFCLENBQUM7WUFDRixDQUFDO1FBRUYsQ0FBQztRQUVELDZCQUFTLEdBQVQ7WUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssV0FBVyxDQUFDLENBQUM7Z0JBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQy9GLENBQUM7UUFHRixnQkFBQztJQUFELENBaG9CQSxBQWdvQkMsSUFBQTtJQWhvQlksaUJBQVMsWUFnb0JyQixDQUFBIiwiZmlsZSI6ImRlc2NyaWJlci1jb3JlL3Byb3RvdHlwZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9kZXNjcmliZXItY29yZS9saWJzL2pxdWVyeS5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Rlc2NyaWJlci1jb3JlL2pxdWVyeS1kYy5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Rlc2NyaWJlci1jb3JlL3dpbmRvdy5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Rlc2NyaWJlci1jb3JlL2xpYnMvdW5kZXJzY29yZS5kLnRzXCIgLz5cclxuXHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9tb2R1bGUtYWxpYXNlcy5kLnRzXCIgLz5cclxuXHJcblxyXG5cclxuLy8vIDxhbWQtZGVwZW5kZW5jeSBwYXRoPVwianF1ZXJ5XCIgbmFtZT1cIiRcIiAvPlxyXG4vLy8gPGFtZC1kZXBlbmRlbmN5IHBhdGg9XCJ1bmRlcnNjb3JlXCIgbmFtZT1cIl9cIiAvPlxyXG4vLy8gPGFtZC1kZXBlbmRlbmN5IHBhdGg9XCJjb3JlXCIgLz5cclxuXHJcblxyXG4vL2ltcG9ydCAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcclxuXHJcbi8vaW1wb3J0IGRjIGZyb20gJy4vSUNvcmUnO1xyXG5cclxuaW1wb3J0IF9jb25maWcgPSByZXF1aXJlKCdfY29uZmlnJyk7XHJcblxyXG5cclxuLy9kZWNsYXJlIHZhciBkYzphbnk7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvdG90eXBlIHtcclxuXHQkZWxlbTogSlF1ZXJ5O1xyXG5cdG15UG9zOiBzdHJpbmc7XHJcblx0bXlKbU5hbWU6IHN0cmluZztcclxuXHRuYW1lUG9zdGZpeDogc3RyaW5nO1xyXG5cdG5hbWU6IHN0cmluZztcclxuXHRjb25maWdPYmo6IE9iamVjdDtcclxuXHRpbml0Q29uZmlnT2JqOiBPYmplY3Q7XHJcbiAgICBkY0V2ZW50czpzdHJpbmdbXSA9IFtdO1xyXG5cdG9uZVRpbWVFeGVjOmJvb2xlYW47XHJcblx0cmVuZGVyRGVsYXk6bnVtYmVyO1xyXG5cdGNvbmRpdGlvblNvdXJjZTpzdHJpbmc7XHJcblx0c3RhdGljT2JqOiBPYmplY3Q7XHJcblx0c3RhdGljQXR0ckZyb21Eb206IHN0cmluZztcclxuXHRzdGF0aWNPYmpGcm9tRG9tOiBPYmplY3Q7XHJcblx0X2V4ZWMoZTpFdmVudCwgcF9kYXRhPzphbnkpe307XHJcbiAgICByZWxhdGVkVG86SlF1ZXJ5O1xyXG4gICAgdW5pcXVlSWQ6c3RyaW5nO1xyXG4gICAgdGhlbXBDb3VudGVkRnJhbWVzOm51bWJlcjtcclxuICAgICRhY291bnQ6SlF1ZXJ5O1xyXG4gICAgJGluaXRCeVBlcmZDb3VudGVyOkpRdWVyeTtcclxuICAgIHJlbmRlckZ1bmN0aW9uSW5kZXg6bnVtYmVyO1xyXG5cclxuXHJcblx0Y29uc3RydWN0b3IocHVibGljIGVsZW06IEhUTUxFbGVtZW50LCBwdWJsaWMgb3B0aW9uczpPYmplY3QsIHB1YmxpYyBwbHVnaW5OYW1lOiBzdHJpbmcsIHB1YmxpYyBwb3M6IHN0cmluZywgcHVibGljIGptbmFtZTpzdHJpbmcpIHtcclxuXHRcdHRoaXMuJGVsZW0gPSAkKHRoaXMuZWxlbSk7XHJcblx0XHQvL3RoaXMubXlQb3MgPSAoJC50eXBlKHRoaXMuJGVsZW0uZGF0YSgnam1uYW1lJykpICE9PSAndW5kZWZpbmVkJykgPyAwIDogdGhpcy5wb3M7XHJcblx0XHR0aGlzLm15UG9zID0gcG9zO1xyXG5cdFx0dGhpcy5teUptTmFtZSA9IGptbmFtZTtcclxuXHRcdHRoaXMubmFtZSA9IHBsdWdpbk5hbWU7XHJcblx0XHR0aGlzLm5hbWVQb3N0Zml4ID0gKHRoaXMubmFtZS5zbGljZSgtMikuY2hhckF0KDApID09PSAnXycpID8gdGhpcy5uYW1lLnNsaWNlKC0yKSA6ICcnO1xyXG5cdFx0Ly90aGlzLm15Sm1OYW1lUG9zID0gKCh0aGlzLiRlbGVtLmRhdGEoJ2ptbmFtZScpKS5pbmRleE9mKCcgJykgIT09IC0xKSA/ICQuaW5BcnJheSh0aGlzLm15Sm1OYW1lLCB0aGlzLiRlbGVtLmRhdGEoJ2ptbmFtZScpLnRyaW0oKS5zcGxpdCgnICcpKSA6ICQuaW5BcnJheSh0aGlzLm15Sm1OYW1lLCB0aGlzLiRlbGVtLmRhdGEoJ2ptbmFtZScpLnRyaW0oKS5zcGxpdCgnfCcpKTtcclxuXHRcdHRoaXMuaW5pdEV4ZWMoKTtcclxuXHRcdC8vdGhpcy4kZWxlbS5hZGRDbGFzcygnSlNJTklULScgK3RoaXMubXlKbU5hbWUgKyctRUwtJysgIHRoaXMubmFtZSk7XHJcblx0fVxyXG5cclxuXHRpbml0RXhlYygpIHtcclxuXHRcdHRoaXMuY29uZmlnT2JqID0gdGhpcy5fZ2V0Q29uZmlnT2JqQXJyYXkoKTtcclxuXHRcdGlmICgkLnR5cGUodGhpcy5jb25maWdPYmpbJ2luaXQnXSkgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdG5ldyBGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7JyArIHRoaXMuY29uZmlnT2JqWydpbml0J10pLmNhbGwodGhpcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvbkluaXRFeGVjKCl7XHJcblxyXG5cdH1cclxuXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBFdmVudC1GdW5jdGlvbnMgQmVnaW4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5cclxuXHQvLyB3aXJkIHZvbSBCb2R5LUxpc3RlbmVyIGbDvHIgJ2NsaWNrJyBhdWZnZXJ1ZmVuXHJcblx0Y2xpY2soZSkge1xyXG5cdFx0aWYgKHRoaXMuaW5jbHVkZXMoJ2V2ZW50JywgJ2NsaWNrJykgJiYgdGhpcy5pc0NvbmRpdGlvbigpKSB0aGlzLl9leGVjV2FpdChlKTtcclxuXHR9XHJcblxyXG5cdC8vIHdpcmQgdm9tIEJvZHktTGlzdGVuZXIgZsO8ciAnY2hhbmdlJyBhdWZnZXJ1ZmVuXHJcblx0Y2hhbmdlKGUpIHtcclxuXHRcdGlmICh0aGlzLmluY2x1ZGVzKCdldmVudCcsICdjaGFuZ2UnKSAmJiB0aGlzLmlzQ29uZGl0aW9uKCkpIHRoaXMuX2V4ZWNXYWl0KGUpO1xyXG5cdH1cclxuXHJcblx0Ly8gd2lyZCB2b20gQm9keS1MaXN0ZW5lciBmw7xyICdqbXRyaWdnZXInIGF1ZmdlcnVmZW5cclxuXHRqbXRyaWdnZXIoZSwgZV9wYXJhbSkge1xyXG5cdFx0aWYgKCQudHlwZShlX3BhcmFtKSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0aWYgKHdpbmRvdy5kYy5jb25maWcuZGVidWcpIHtcclxuXHRcdFx0XHR3aW5kb3cuZGMuZGV2Lndhcm4oJ0VzIHdpcmQga2VpbiBFdmVudCBtaXRnZWdlYmVuLiBadW0gZWluZW4gbXVzcyBpbSBqbWNvbmZpZy1PYmpla3QgYWxzIFZhbHVlIHouQi4gXFwnam10cmlnZ2VyOmNsaWNrXFwnIGbDvHIgXFwnZXZlbnRcXCcgYW5nZWdlYmVuIHdlcmRlbiB1bmQgZGVyIEV2ZW50IG11c3MgZW50c3ByZWNoZW5kIHZpYSBqbXRyaWdnZXIoXFwnY2xpY2tcXCcpIGdlZmV1ZXJ0IHdlcmRlbi4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5pbmNsdWRlcygnZXZlbnQnLCAnam10cmlnZ2VyOicgKyBlX3BhcmFtLmV2ZW50KSAmJiB0aGlzLmlzQ29uZGl0aW9uKCkpIHRoaXMuX2V4ZWNXYWl0KGUsIGVfcGFyYW0uZGF0YSk7XHJcblx0fVxyXG5cclxuXHQvLyB3aXJkIHZvbSBCb2R5LUxpc3RlbmVyIGbDvHIgJ2RvbWluaXQnIGF1ZmdlcnVmZW5cclxuXHRkb21pbml0KGUpIHtcclxuXHRcdGlmICh0aGlzLmluY2x1ZGVzKCdldmVudCcsICdkb21pbml0JykgJiYgdGhpcy5pc0NvbmRpdGlvbigpKSB0aGlzLl9leGVjV2FpdChlKTtcclxuXHJcblx0XHQvL1xyXG5cdFx0aWYgKHRoaXMucGFydE9mKCdldmVudCcsICdyYWYnKSkgdGhpcy5fcmFmKGUpO1xyXG5cdFx0aWYgKHRoaXMucGFydE9mKCdldmVudCcsICdpbnRlcnZhbCcpKSB0aGlzLl9pbnRlcnZhbChlKTtcclxuXHRcdGlmICh0aGlzLmluY2x1ZGVzKCdldmVudCcsICdpbml0LWJ5LXBlcmYnKSkgdGhpcy5faW5pdEJ5UGVyZihlKTtcclxuXHJcblx0XHQvLyBpbml0IEV2ZW50LUxpc3RlbmVyIGF1ZiB0aGlzLiRlbGVtXHJcblx0XHRpZiAodGhpcy5wYXJ0T2YoJ2V2ZW50JywgJ2tleXVwJykpIHRoaXMuX2tleXVwKGUpO1xyXG5cdFx0aWYgKHRoaXMucGFydE9mKCdldmVudCcsICdtb3VzZWVudGVyJykpIHRoaXMuJGVsZW0ub24oJ21vdXNlZW50ZXInLCB0aGlzLl9leGVjV2FpdEFmdGVyQ29uZGl0aW9uLmJpbmQodGhpcykpO1xyXG5cdFx0aWYgKHRoaXMucGFydE9mKCdldmVudCcsICdtb3VzZWxlYXZlJykpIHRoaXMuJGVsZW0ub24oJ21vdXNlbGVhdmUnLCB0aGlzLl9leGVjV2FpdEFmdGVyQ29uZGl0aW9uLmJpbmQodGhpcykpO1xyXG5cdFx0aWYgKHRoaXMuaW5jbHVkZXMoJ2V2ZW50JywgJ2JsdXInKSkgdGhpcy4kZWxlbS5vbignYmx1cicsIHRoaXMuX2V4ZWNXYWl0QWZ0ZXJDb25kaXRpb24uYmluZCh0aGlzKSk7XHJcblx0XHRpZiAodGhpcy5pbmNsdWRlcygnZXZlbnQnLCAnZm9jdXMnKSkgdGhpcy4kZWxlbS5vbignZm9jdXMnLCB0aGlzLl9leGVjV2FpdEFmdGVyQ29uZGl0aW9uLmJpbmQodGhpcykpO1xyXG5cdFx0aWYgKHRoaXMuaW5jbHVkZXMoJ2V2ZW50JywgJ2hvdmVyJykpIHRoaXMuJGVsZW0ub24oJ21vdXNlb3ZlcicsIHRoaXMuX2V4ZWNXYWl0QWZ0ZXJDb25kaXRpb24uYmluZCh0aGlzKSk7XHJcblx0XHQvLyBkeW5hbWljIGRjLWV2ZW50bGlzdGVuZXIgb24gYm9keVxyXG5cdFx0aWYgKHRoaXMuc3RhcnRzV2l0aCgnZXZlbnQnLCAnZGMtJykpIHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbmkgPSB0aGlzLmRjRXZlbnRzLmxlbmd0aDsgaSA8IGxlbmk7IGkrKykge1xyXG5cdFx0XHRcdHRoaXMuJGVsZW0uY2xvc2VzdCgnYm9keScpLm9uKHRoaXMuZGNFdmVudHNbaV0sIHRoaXMuX2V4ZWNXYWl0QWZ0ZXJDb25kaXRpb24uYmluZCh0aGlzKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIEV2ZW50LUZ1bmN0aW9ucyBFbmQgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBIZWxwZXItRnVuY3Rpb25zIGZvciBDb25maWdPYmplY3QgQmVnaW4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5cclxuXHQvLyBnaWJ0IGplIG5hY2ggcGFyYW1ldGVyIGVpbiBib29sIG9kZXIgZWluZW4gc3RyaW5nIHp1csO8Y2suIFNpZWhlIHVudGVuLlxyXG5cdGlzKHBfZGF0YUF0dHI6c3RyaW5nLCBwX3ZhbHVlPzpzdHJpbmcsIHBfbm93Pzpib29sZWFuKSB7XHJcblx0XHR2YXIgX3JldHVyblN0cmluZztcclxuXHRcdGlmICgkLnR5cGUocF9kYXRhQXR0cikgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHdpbmRvdy5kYy5kZXYuZXJyb3IoJ2VzIHd1cmRlIGtlaW4gUGFyYW1ldGVyIMO8YmVyZ2ViZW4nKTtcclxuXHRcdFx0cmV0dXJuOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHZvaWRcclxuXHRcdH1cclxuXHRcdC8vIGhpZXIgd2lyZCBkYXMgY29uZmlnT2JqIGdlaG9sdC5cclxuXHRcdHRoaXMuY29uZmlnT2JqID0gdGhpcy5fZ2V0Q29uZmlnT2JqQXJyYXkocF9ub3cpO1xyXG5cclxuXHRcdGlmICgkLnR5cGUodGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl0pID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRyZXR1cm4gJyc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gU3RyaW5nXHJcblx0XHR9XHJcblx0XHQvLyBXaXJkIGVpbmUgdmFsdWUgYW4gZGllIEZ1bmt0aW9uICdpcycgw7xiZXJnZWJlbiwgZ2lidCBkaWVzZSB0cnVlIHp1csO8Y2ssIHdlbm4gKHBfZGF0YUF0dHIgPT09IHBfdmFsdWUpIGlzdCwgYW5kZXJuZmFsbHMgd2lyZCBmYWxzZSB6dXLDvGNrZ2VnZWJlbi5cclxuXHRcdGlmICgkLnR5cGUocF92YWx1ZSkgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNvbmZpZ09ialtwX2RhdGFBdHRyXSA9PT0gcF92YWx1ZTsgIC8vIHJldHVybiBCb29sXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZ2lidCBkaWUgVmFsdWUgenVyw7xjaywgZGllIGbDvHIgZGVuIGtleSBoaW50ZXJsZWd0IGlzdC4gSXN0IGRlciBLZXkgbmljaHQgZGVmaW5pZXJ0IHdpcmQgZWluIGxlaHJzdHJpbmcgenVyw7xja2dlZ2ViZW4uXHJcblx0XHRfcmV0dXJuU3RyaW5nID0gdGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl07XHJcblx0XHRzd2l0Y2ggKHBfZGF0YUF0dHIpIHtcclxuXHRcdFx0Ly8gYmVpIGZvbGdlbmRlbiBwX2RhdGFBdHRyIHdpcmQgZGllIFZhbHVlLUFuZ2FiZSBpbiBkZW4gamF2YXNjaXJwdC1Lb250ZXh0IMO8YmVyZsO8aHJ0LCB3ZW5uIHNpZSBlaW4gJ3RoaXMuJyBpbSBTdHJpbmcgYmVpbmhhbHRldCxcclxuXHRcdFx0Ly8gYW5kZXJuZmFsbHMgd2lyZCBudXIgZGVyIFN0cmluZyB6dXLDvGNrZ2VnZWJlbi5cclxuXHRcdFx0Y2FzZSAncmVsYXRlZFRvJzpcclxuXHRcdFx0Y2FzZSAnc2Nyb2xsVG8nOlxyXG5cdFx0XHRjYXNlICdzY3JvbGxUb09mZnNldCc6XHJcblx0XHRcdGNhc2UgJ2RhdGEnOlxyXG5cdFx0XHRjYXNlICdsb2FkZXJUbyc6XHJcblx0XHRcdGNhc2UgJ2V2ZW50JzpcclxuXHRcdFx0XHQvLyByZXR1cm4gU3RyaW5nIG9yIERvbS1FbGVtZW50L2VcclxuXHRcdFx0XHRyZXR1cm4gKCh0aGlzLmNvbmZpZ09ialtwX2RhdGFBdHRyXS5pbmRleE9mKCd0aGlzLicpICE9PSAtMSkgfHwgKHRoaXMuY29uZmlnT2JqW3BfZGF0YUF0dHJdLmluZGV4T2YoJ3dpbmRvdy5qbUhGJykgIT09IC0xKSB8fCAodGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl0uaW5kZXhPZignd2luZG93LmRjJykgIT09IC0xKSkgPyBldmFsKF9yZXR1cm5TdHJpbmcpIDogX3JldHVyblN0cmluZztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHQvLyByZXR1cm4gU3RyaW5nXHJcblx0XHRcdFx0cmV0dXJuIF9yZXR1cm5TdHJpbmc7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBnaWJ0IGplIG5hY2ggcGFyYW1ldGVyIGRlbiBha3R1ZWxsZW4gYm9vbCBvZGVyIHN0cmluZyBmw7xyIGRlbiBLZXkgenVyw7xjay4gU2llaGUgaXMtZnVua3Rpb24uXHJcblx0aXNOb3cocF9kYXRhQXR0ciwgcF92YWx1ZSkge1xyXG5cdFx0Ly8gYWxzIDMuIFBhcmFtZXRlciBrYW5uIHRydWUgb2RlciBpcmdlbnQgZXR3YXMgYW5kZXJzIHNlaW4uIGVzIG11c3MgbnVyIGRlZmluZSBzZWluLlxyXG5cdFx0dGhpcy5pcyhwX2RhdGFBdHRyLCBwX3ZhbHVlLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdGlzQ29uZGl0aW9uKHBfdmFsdWU6c3RyaW5nID0gJ25vdCBkZWZpbmVkJywgcF9ub3c6Ym9vbGVhbiA9IGZhbHNlKSB7XHJcblx0XHR0aGlzLmNvbmZpZ09iaiA9IHRoaXMuX2dldENvbmZpZ09iakFycmF5KHBfbm93KTtcclxuXHJcblx0XHRpZiAocF92YWx1ZSA9PT0gJ3NvdXJjZScpIHtcclxuXHRcdFx0Ly8gcmV0dXJuIFN0cmluZ1xyXG5cdFx0XHRyZXR1cm4gKCQudHlwZSh0aGlzLmNvbmZpZ09ialsnY29uZGl0aW9uJ10pICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLmNvbmZpZ09ialsnY29uZGl0aW9uJ10gOiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Ly8gd2VubiBlaW5lIGNvbmRpdGlvbiBoaW50ZXJsZWd0IGlzdCB3aXJkIGRpZXNlIGluIGRlbiBqYXZhc2NpcnB0LUtvbnRleHQgw7xiZXJmw7xocnQgYW5kZXJuZmFsbHMgd2lyZCB0cnVlIHp1csO8Y2tnZWdlYmVuLlxyXG5cdFx0Ly8gcmV0dXJuIEJvb2xcclxuXHRcdHJldHVybiAoJC50eXBlKHRoaXMuY29uZmlnT2JqWydjb25kaXRpb24nXSkgIT09ICd1bmRlZmluZWQnKSA/IGV2YWwodGhpcy5jb25maWdPYmpbJ2NvbmRpdGlvbiddKSA6IHRydWU7XHJcblx0fVxyXG5cclxuXHRpbmNsdWRlcyhwX2RhdGFBdHRyOnN0cmluZywgcF92YWx1ZTpzdHJpbmcsIHBfbm93OmJvb2xlYW4gPSBmYWxzZSkge1xyXG5cdFx0dmFyIF9hcnJheV92YWx1ZTtcclxuXHRcdHRoaXMuY29uZmlnT2JqID0gdGhpcy5fZ2V0Q29uZmlnT2JqQXJyYXkocF9ub3cpO1xyXG5cdFx0Ly8gZ2lidCB0cnVlIHp1csO8Y2ssIHdlbm4gZGVyIGhpbnRlcmxlZ3RlIFN0aW5nIHZvbiBwX2RhdGFBdHRyIHBfdmFsdWUgZW50aMOkbHQuIEFuZGVybmZhbGxzIHdpcmQgZmFsc2UgenVyw7xja2dlZ2ViZW4uXHJcblx0XHQvLyByZXR1cm4gQm9vbFxyXG5cdFx0aWYgKCQudHlwZSh0aGlzLmNvbmZpZ09ialtwX2RhdGFBdHRyXSkgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl0uaW5kZXhPZigndGhpcy4nKSA9PT0gLTEpIHtcclxuXHRcdFx0cmV0dXJuICQuaW5BcnJheShwX3ZhbHVlLCB0aGlzLmNvbmZpZ09ialtwX2RhdGFBdHRyXS5zcGxpdCgnfCcpKSAhPT0gLTE7XHJcblx0XHR9XHJcblxyXG5cdFx0X2FycmF5X3ZhbHVlID0gdGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl0uc3BsaXQoJ3wnKTtcclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW5pID0gX2FycmF5X3ZhbHVlLmxlbmd0aDsgaSA8IGxlbmk7IGkrKykge1xyXG5cdFx0XHRpZiAoKF9hcnJheV92YWx1ZVtpXS5pbmRleE9mKCd0aGlzLicpICE9IC0xKSAmJiAoX2FycmF5X3ZhbHVlW2ldLmluZGV4T2YoJ2ptdHJpZ2dlcjonKSAhPSAtMSkpIHtcclxuXHRcdFx0XHRfYXJyYXlfdmFsdWVbaV0gPSBldmFsKF9hcnJheV92YWx1ZVtpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiAkLmluQXJyYXkocF92YWx1ZSwgX2FycmF5X3ZhbHVlKSAhPT0gLTE7XHJcblx0fVxyXG5cclxuXHQvLyBnaWJ0IGRlbiBha3R1ZWxsZW4gYm9vbCB6dXLDvGNrLiBTaWVoZSBpbmNsdWRlcy1mdW5rdGlvbi5cclxuXHRzdGFydHNXaXRoTm93KHBfZGF0YUF0dHIsIHBfdmFsdWUpIHtcclxuXHRcdHRoaXMuc3RhcnRzV2l0aChwX2RhdGFBdHRyLCBwX3ZhbHVlLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdHN0YXJ0c1dpdGgocF9kYXRhQXR0cjpzdHJpbmcsIHBfdmFsdWU6c3RyaW5nLCBwX25vdzpib29sZWFuID0gZmFsc2UpIHtcclxuXHRcdHZhciB0aGF0ID0gdGhpcztcclxuXHRcdHRoaXMuY29uZmlnT2JqID0gdGhpcy5fZ2V0Q29uZmlnT2JqQXJyYXkocF9ub3cpO1xyXG5cdFx0Ly8gZ2lidCB0cnVlIHp1csO8Y2ssIHdlbm4gKHBfZGF0YUF0dHIgPT09IHBfdmFsdWUpIGlzdCwgYW5kZXJuZmFsbHMgd2lyZCBmYWxzZSB6dXLDvGNrZ2VnZWJlbi5cclxuXHRcdC8vIHJldHVybiBCb29sXHJcblx0XHRyZXR1cm4gKCQudHlwZSh0aGlzLmNvbmZpZ09ialtwX2RhdGFBdHRyXSkgIT09ICd1bmRlZmluZWQnICYmICgkLmluQXJyYXkodHJ1ZSwgJC5tYXAodGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl0uc3BsaXQoJ3wnKSwgZnVuY3Rpb24ocykge1xyXG5cdFx0XHRpZiAoL15kYy0vaS50ZXN0KHMpKSB7XHJcblx0XHRcdFx0dGhhdC5kY0V2ZW50cyA9IHRoYXQuZGNFdmVudHMgfHwgW107XHJcblx0XHRcdFx0aWYgKHRoYXQuZGNFdmVudHNbc10pIHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdHRoYXQuZGNFdmVudHMucHVzaChzKTtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9KSkpICE9PSAtMSk7XHJcblx0fVxyXG5cclxuXHQvLyBnaWJ0IGRlbiBha3R1ZWxsZW4gYm9vbCB6dXLDvGNrLiBTaWVoZSBpbmNsdWRlcy1mdW5rdGlvbi5cclxuXHRpbmNsdWRlc05vdyhwX2RhdGFBdHRyLCBwX3ZhbHVlKSB7XHJcblx0XHR0aGlzLmluY2x1ZGVzKHBfZGF0YUF0dHIsIHBfdmFsdWUsIHRydWUpO1xyXG5cdH1cclxuXHJcblx0cGFydE9mKHBfZGF0YUF0dHI6c3RyaW5nLCBwX3ZhbHVlOnN0cmluZywgcF9ub3c6Ym9vbGVhbiA9IGZhbHNlKSB7XHJcblx0XHR0aGlzLmNvbmZpZ09iaiA9IHRoaXMuX2dldENvbmZpZ09iakFycmF5KHBfbm93KTtcclxuXHRcdC8vIGdpYnQgdHJ1ZSB6dXLDvGNrLCB3ZW5uIChwX2RhdGFBdHRyID09PSBwX3ZhbHVlKSBpc3QsIGFuZGVybmZhbGxzIHdpcmQgZmFsc2UgenVyw7xja2dlZ2ViZW4uXHJcblx0XHQvLyByZXR1cm4gQm9vbFxyXG5cdFx0cmV0dXJuICgkLnR5cGUodGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl0pICE9PSAndW5kZWZpbmVkJyAmJiAoJC5pbkFycmF5KHRydWUsICQubWFwKHRoaXMuY29uZmlnT2JqW3BfZGF0YUF0dHJdLnNwbGl0KCd8JyksIGZ1bmN0aW9uKHMpIHtcclxuXHRcdFx0cmV0dXJuIChzLmluZGV4T2YocF92YWx1ZSkgPiAtMSk7XHJcblx0XHR9KSkpICE9PSAtMSk7XHJcblx0fVxyXG5cclxuXHRwYXJ0T2ZOb3cocF9kYXRhQXR0ciwgcF92YWx1ZSkge1xyXG5cdFx0dGhpcy5wYXJ0T2YocF9kYXRhQXR0ciwgcF92YWx1ZSwgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHRnZXRQYXJ0T2YocF9kYXRhQXR0ciwgcF92YWx1ZSwgcF9ub3c/OmJvb2xlYW4pIHtcclxuXHRcdHZhciBfcmV0dXJuO1xyXG5cdFx0dGhpcy5jb25maWdPYmogPSB0aGlzLl9nZXRDb25maWdPYmpBcnJheShwX25vdyk7XHJcblx0XHRpZiAoJC50eXBlKHRoaXMuY29uZmlnT2JqW3BfZGF0YUF0dHJdKSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0Ly8gcmV0dXJuIGZ1bGwgcGFydCBiZXR3ZWVuIHRoZSBQaXBlcyB6LkIuIHxrZXl1cC1kZWxheS01MDB8IChwX3ZhbHVlIGlzdCBoaWVyIGtleXVwKSBvZGVyIHVuZGVmaW5lXHJcblx0XHRfcmV0dXJuID0gJC5tYXAodGhpcy5jb25maWdPYmpbcF9kYXRhQXR0cl0uc3BsaXQoJ3wnKSwgZnVuY3Rpb24ocykge1xyXG5cdFx0XHRpZiAocy5pbmRleE9mKHBfdmFsdWUpID4gLTEpIHtcclxuXHRcdFx0XHRyZXR1cm4gcztcclxuXHRcdFx0fVxyXG5cdFx0fSlbMF07XHJcblx0XHQvLyByZXR1cm4gU3Rpcm5nXHJcblx0XHRyZXR1cm4gX3JldHVybiB8fCAnJztcclxuXHR9XHJcblxyXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIEhlbHBlci1GdW5jdGlvbnMgZm9yIENvbmZpZ09iamVjdCBFbmQgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBFdmVudGhhbmRsZXItRnVuY3Rpb25zIEJlZ2luICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5cdF9pbnRlcnZhbChlKSB7XHJcblx0XHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0XHRzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKHRoYXQuaXNDb25kaXRpb24oKSkgdGhhdC5fZXhlY1dhaXQoZSk7XHJcblx0XHRcdC8vIERpZSBJbnRlcnZhbHplaXQgd2lyZCBhdXMgZGVtIFN0aXJuZyBnZXdvbm5lbiwgZGVyIGFscyB2YWx1ZSBpbiBkZXIgX2NvbmZpZy5qcyBmw7xyICdldmVudCcgYW5nZWdlYmVuIGlzdC4gei5CLiBpbnRlcnZhbC01MDAwIC0+IDUwMDAgbXNcclxuXHRcdH0sIHBhcnNlSW50KHRoaXMuZ2V0UGFydE9mKCdldmVudCcsICdpbnRlcnZhbCcpLnNwbGl0KCdpbnRlcnZhbC0nKVsxXSwgMTApKTtcclxuXHR9XHJcblxyXG5cdF9rZXl1cChlKSB7XHJcblx0XHR2YXIgX2RlbGF5O1xyXG5cdFx0aWYgKCQudHlwZShwYXJzZUludCh0aGlzLmdldFBhcnRPZignZXZlbnQnLCAna2V5dXAnKS5zcGxpdCgnZGVsYXktJylbMV0sIDEwKSkgPT09ICdudW1iZXInKSB7XHJcblx0XHRcdF9kZWxheSA9IHBhcnNlSW50KHRoaXMuZ2V0UGFydE9mKCdldmVudCcsICdrZXl1cCcpLnNwbGl0KCdkZWxheS0nKVsxXSwgMTApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy4kZWxlbS5vbigna2V5dXAnLCBfLmRlYm91bmNlKHRoaXMuX2V4ZWNXYWl0QWZ0ZXJDb25kaXRpb24uYmluZCh0aGlzLCBlKSwgX2RlbGF5KSk7XHJcblx0fVxyXG5cclxuXHRfcmFmKGUpIHtcclxuXHRcdHRoaXMuZ3VhcmFudGVlRENSQUYoKTtcclxuXHRcdC8vIHJhZi0xMDBtcy1vbmVcclxuXHRcdHRoaXMub25lVGltZUV4ZWMgPSB0aGlzLmdldFBhcnRPZignZXZlbnQnLCAncmFmJykuaW5kZXhPZignLW9uZScpICE9PSAtMTtcclxuXHRcdHRoaXMucmVuZGVyRGVsYXkgPSB0aGlzLl9nZXRSZW5kZXJEZWxheSgpO1xyXG5cdFx0Ly8gU3BlaWNoZXJ1bmcgZGVzIGNvbmRpdGlvbi1TdHJpbmdzIGF1ZiBkZXIgX2NvbmZpZy5qcyBmw7xyIGRhcyBLaW5kLU1vZHVsICh6LkIuIGFjdGlvbnMuYWpheCBvZGVyIGFjdGlvbnMuc3RpY2t5KVxyXG5cdFx0dGhpcy5jb25kaXRpb25Tb3VyY2UgPSB0aGlzLmlzQ29uZGl0aW9uKCdzb3VyY2UnKTtcclxuXHRcdHRoaXMuX2FkZFJlbmRlckZ1bmN0aW9uVG9SYWZFeGVjSXRlcmF0aW9uT2JqKGUpO1xyXG5cclxuXHR9XHJcblxyXG5cdF9pbml0QnlQZXJmKGUpIHtcclxuXHRcdHZhciBfaW5pdEJ5UGVyZkNvdW50ZXIgPSAyO1xyXG5cdFx0aWYgKHdpbmRvdy5kYy5wZXJmLmxldmVsID09PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGlmICh3aW5kb3cuZGMucGVyZi5sZXZlbCA9PT0gMSB8fCB3aW5kb3cuZGMucGVyZi5sZXZlbCA9PT0gNCkge1xyXG5cdFx0XHR0aGlzLl9leGVjV2FpdEFmdGVyQ29uZGl0aW9uKGUpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF3aW5kb3cuZGMucmFmLndpbikge1xyXG5cdFx0XHR0aGlzLl9jcmVhdGVSQUZPYmplY3RzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0d2luZG93LmRjLnBlcmYub25Ib2xkQXJyYXkgPSB3aW5kb3cuZGMucGVyZi5vbkhvbGRBcnJheSB8fCBbXTtcclxuXHRcdHdpbmRvdy5kYy5wZXJmLm9uSG9sZEFycmF5RXhlY3V0ZWQgPSB3aW5kb3cuZGMucGVyZi5vbkhvbGRBcnJheUV4ZWN1dGVkIHx8IGZhbHNlO1xyXG5cdFx0d2luZG93LmRjLnBlcmYub25Ib2xkQXJyYXkucHVzaCh7ICdvYmonOiB0aGlzLCAnZSc6IGUsICdleGVjJzogZmFsc2UgfSk7XHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuaSA9IHdpbmRvdy5kYy5wZXJmLm9uSG9sZEFycmF5Lmxlbmd0aDsgaSA8IGxlbmk7IGkrKykge1xyXG5cdFx0XHRpZiAoX2luaXRCeVBlcmZDb3VudGVyID4gaSkge1xyXG5cdFx0XHRcdHRoaXMuX2FwcGx5T25Ib2xkUGx1Z2luKGkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCQudHlwZSh3aW5kb3cuZGMucGVyZi5pbnRlcnZhbElERm9yT25Ib2xkUGx1Z2lucykgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHdpbmRvdy5kYy5wZXJmLmludGVydmFsSURGb3JPbkhvbGRQbHVnaW5zID0gc2V0SW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxGb3JBcHBseU9uSG9sZFBsdWdpbnMuYmluZCh0aGlzKSwgMTAwMCk7XHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbCh3aW5kb3cuZGMucGVyZi5pbnRlcnZhbElERm9yT25Ib2xkUGx1Z2lucyk7XHJcblx0XHRcdH0sIDE1MDAwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdF9leGVjV2FpdEFmdGVyQ29uZGl0aW9uKGUpIHtcclxuXHRcdGlmICh0aGlzLmlzQ29uZGl0aW9uKCkpIHtcclxuXHRcdFx0dGhpcy5fZXhlY1dhaXQoZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRfZXhlY1dhaXQoZTpFdmVudCwgcF9kYXRhOmFueSA9IHVuZGVmaW5lZCkge1xyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cdFx0aWYgKHRoaXMuaXMoJ3dhaXQnKSA9PT0gJycpIHtcclxuXHRcdFx0dGhpcy5fZXhlYyhlLCBwX2RhdGEpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5pcygnd2FpdCcpID09PSAncmFmJykge1xyXG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2V4ZWMuYmluZCh0aGlzLCBlLCBwX2RhdGEpKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuaXMoJ3dhaXQnKSAhPT0gJycpIHtcclxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhhdC5fZXhlYyhlLCBwX2RhdGEpOyB9LCBwYXJzZUludCh0aGlzLmlzKCd3YWl0JyksIDEwKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBFdmVudGhhbmRsZXItRnVuY3Rpb25zIEVuZCAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgRXZlbnRoYW5kbGVyLUhlbHBlci1GdW5jdGlvbnMgQmVnaW4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuXHRfZ2V0UmVuZGVyRGVsYXkoKXtcclxuXHRcdFx0dmFyIF9maWx0ZXJlZFJhZlN0cmluZyA9IHRoaXMuZ2V0UGFydE9mKCdldmVudCcsICdyYWYnKS5yZXBsYWNlKCdyYWYtJywgJycpLnJlcGxhY2UoJy1vbmUnLCAnJykucmVwbGFjZSgnbXMnLCAnJykucmVwbGFjZSgncmFmJywgJycpO1xyXG5cdFx0XHRyZXR1cm4gKF9maWx0ZXJlZFJhZlN0cmluZyAhPT0gJycpID8gcGFyc2VJbnQoX2ZpbHRlcmVkUmFmU3RyaW5nLCAxMCkgKyBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIHBhcnNlSW50KF9maWx0ZXJlZFJhZlN0cmluZywgMTApLzQpIDogMTtcclxuXHR9XHJcblxyXG5cdF9hcHBseU9uSG9sZFBsdWdpbihpbmRleCl7XHJcblx0XHR2YXIgX29iaiA9IHdpbmRvdy5kYy5wZXJmLm9uSG9sZEFycmF5W2luZGV4XS5vYmo7XHJcblx0XHRpZighd2luZG93LmRjLnBlcmYub25Ib2xkQXJyYXlbaW5kZXhdLmV4ZWMpe1xyXG5cdFx0XHR3aW5kb3cuZGMucGVyZi5vbkhvbGRBcnJheVtpbmRleF0uZXhlYyA9IHRydWU7XHJcblx0XHRcdF9vYmouX2V4ZWNXYWl0QWZ0ZXJDb25kaXRpb24oKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdF9pbnRlcnZhbEZvckFwcGx5T25Ib2xkUGx1Z2lucygpe1xyXG5cdFx0dmFyIF9vYmo7XHJcblx0XHRpZih3aW5kb3cuZGMucGVyZi5vbkhvbGRBcnJheSAmJiAhd2luZG93LmRjLnBlcmYub25Ib2xkQXJyYXlFeGVjdXRlZCAmJiB3aW5kb3cuZGMucmFmLndpbi5fYXZncmFmcyA+IDQ1KXtcclxuXHRcdFx0Zm9yKHZhciBpID0gMCwgbGVuaSA9IHdpbmRvdy5kYy5wZXJmLm9uSG9sZEFycmF5Lmxlbmd0aDsgaSA8IGxlbmk7IGkrKyl7XHJcblx0XHRcdFx0X29iaiA9IHdpbmRvdy5kYy5wZXJmLm9uSG9sZEFycmF5W2ldLm9iajtcclxuXHRcdFx0XHRpZighX29iai5leGVjKXtcclxuXHRcdFx0XHRcdF9vYmouZXhlYyA9IHRydWU7XHJcblx0XHRcdFx0XHRfb2JqLl9leGVjV2FpdEFmdGVyQ29uZGl0aW9uKCk7XHJcblx0XHRcdFx0XHRpZih3aW5kb3cuZGMuZGV2LmRlYnVndmlldyl7XHJcblx0XHRcdFx0XHRcdCQoJyNpbml0LWJ5LXBlcmYtY291bnRlcicpLnRleHQoJyBpbml0LWZ4OiAnKyhpKzEpKycvJytsZW5pKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9ZWxzZSBpZigobGVuaSAtMSkgPT09IGkpe1xyXG5cdFx0XHRcdFx0d2luZG93LmRjLnBlcmYub25Ib2xkQXJyYXlFeGVjdXRlZCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIEV2ZW50aGFuZGxlci1IZWxwZXItRnVuY3Rpb25zIEVuZCAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG5cdC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgQ29uZmlnT2JqZWN0LUZ1bmN0aW9ucyBCZWdpbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuXHJcblx0Ly8gZ2lidCBqZSBuYWNoIHBhcmFtZXRlciBkYXMgYWt0dWVsbGUgb2RlciBnZXNwZWljaGVydGUgY29uZmlnT2JqIHp1csO8Y2suIEVzIHdpcmQgaGllciBhdXMgUGVyZm9ybWFuY2VncsO8bmRlbiBlaW4gQ29uZmlnT2JqIGdlc3BlaWNoZXJ0LlxyXG5cdF9nZXRDb25maWdPYmpBcnJheShwX25vdzpib29sZWFuID0gZmFsc2UpIDogT2JqZWN0e1xyXG5cdFx0Ly8gcmV0dXJudCBkYXMgaW5pdENvbmZpZ09iaiB3ZW5uIGVzIGV4c2lzdGllcnQgdW5kIG5fbm93IGdsZWljaCBmYWxzZSBpc3RcclxuXHRcdGlmIChwX25vdyAmJiBPYmplY3Qua2V5cyh0aGlzLmluaXRDb25maWdPYmopLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Ly8gcmV0dXJuIE9iamVjdFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5pbml0Q29uZmlnT2JqO1xyXG5cdFx0fVxyXG5cdFx0Ly8gd2VubiBlcyBrZWluIGptY29uZmlnLUF0dHJpYnV0IGbDvHIgZGFzIFRhZyBnaWJ0LiBwX25vdyBpc3QgaGllciBuaWNodCBpbnRlcmVzc2FudCwgZGEgZGllIGNvbmZpZy1EYXRlbiBpbiBkZXIgX2NvbmZpZy5qcyBuaWNodCBnZcOkbmRlcnQgd2VyZGVuIGvDtm5uZW4uXHJcblx0XHRpZiAoJC50eXBlKHRoaXMuX2dldEF0dHJXaXRoT3JXaXRob3V0UG9zdGZpeF8xKCkgfHwgdGhpcy4kZWxlbS5kYXRhKCdqbWNvbmZpZycpKSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0Ly8gcmV0dXJuIE9iamVjdFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5pbml0Q29uZmlnT2JqID0gdGhpcy5zdGF0aWNPYmogfHwgdGhpcy5fZ2V0U3RhdGljQ29uZmlnT2JqKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gd2VubiBlcyBlaW4gam1jb25maWctQXR0cmlidXQgaW0gVGFnIChET00tRWxlbWVudCkgZ2lidCDDvGJlcnNjaHJlaWJ0IGRpZXNlcyBkaWUgZW50c3ByZWNoZW5kZW4gdmFsdWVzIGltIGNvbmZpZy1PYmpla3QsIHdlbGxjaGVzIGhpZXJmw7xyIGluIGRlciBfY29uZmlnLmpzIHN0ZWh0LlxyXG5cdFx0Ly8gcmV0dXJuIE9iamVjdFxyXG5cdFx0cmV0dXJuIHRoaXMuaW5pdENvbmZpZ09iaiA9ICQuZXh0ZW5kKHt9LCAodGhpcy5zdGF0aWNPYmogfHwgdGhpcy5fZ2V0U3RhdGljQ29uZmlnT2JqKCkpLCB0aGlzLl9nZXRPYmpGcm9tRG9tKHBfbm93KSk7XHJcblx0fVxyXG5cclxuXHRfZ2V0QXR0cldpdGhPcldpdGhvdXRQb3N0Zml4XzEoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdGF0aWNBdHRyRnJvbURvbSB8fCAodGhpcy5zdGF0aWNBdHRyRnJvbURvbSA9ICh0aGlzLm5hbWVQb3N0Zml4ID09PSAnXzEnKSA/ICh0aGlzLiRlbGVtLmF0dHIoJ2RhdGEtZGNjb25maWctLScgKyB0aGlzLm15Sm1OYW1lICsgJy0tJyArIHRoaXMubmFtZSkgfHwgdGhpcy4kZWxlbS5hdHRyKCdkYXRhLWRjY29uZmlnLS0nICsgdGhpcy5teUptTmFtZSArICctLScgKyB0aGlzLm5hbWUuc3BsaXQoJ18xJylbMF0pKSA6ICh0aGlzLiRlbGVtLmF0dHIoJ2RhdGEtZGNjb25maWctLScgKyB0aGlzLm15Sm1OYW1lICsgJy0tJyArIHRoaXMubmFtZSkgfHwgdGhpcy4kZWxlbS5hdHRyKCdkYXRhLWRjY29uZmlnLS0nICsgdGhpcy5teUptTmFtZSArICctLScgKyB0aGlzLm5hbWUgKyAnXzEnKSkpO1xyXG5cdH1cclxuXHJcblx0X2dldE9iakZyb21Eb20ocF9ub3cpIHtcclxuXHRcdGlmICh3aW5kb3cuZGMuY29uZmlnLmRlYnVnKSB7XHJcblx0XHRcdGlmICh0aGlzLiRlbGVtLmRhdGEoJ2ptY29uZmlnJykgJiYgd2luZG93LmRjLmhlbHBlci5hdHRyUHJlZml4Q291bnRlcih0aGlzLiRlbGVtWzBdLCAnZGF0YS1kY2NvbmZpZycpKSB7XHJcblx0XHRcdFx0d2luZG93LmRjLmRldi53YXJuKCdkYXRhLWptY29uZmlnIHVuZCBkYXRhLWRjY29uZmlnIGTDvHJmZW4gbmljaHQgenVzYW1tZW4gYWxzIEF0dHJpYnV0IGF1ZiBmb2xnZW5kZW4gVGFnIHZlcndlbmRldC4gZGF0YS1qbWNvbmZpZyBpc3QgZGVwcmljYXRlZC4gRGllIMOcYmVyc2NocmVpYnVuZyBkZXIgY29uZmlnLU9iamVrdGUgaXN0IG1pdCBkYXRhLWRjY29uZmlnLS0uLi4gZHVyY2h6dWbDvGhyZW4uJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLl9nZXRBdHRyV2l0aE9yV2l0aG91dFBvc3RmaXhfMSgpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9nZXRPYmpGcm9tRGNDb25maWdBdHRyKHBfbm93KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB7fTtcclxuXHR9XHJcblxyXG5cdF9nZXRPYmpGcm9tRGNDb25maWdBdHRyKHBfbm93KSB7XHJcblx0XHQvLyBsaWVnZW4gZGllIGRhdGVuIGF1cyBkZW0gam1jb25maWctRGF0YS1BdHRyaWJ1dCB2b3IgdW5kIHBfbm93IGlzdCBnbGVpY2ggZmFsc2Ugd2lyZCBkYXMgQXJyYXkgbWl0IGRlbS9kZW4gT2JqZWt0L2VuIGF1cyBkZW0gZGF0YS1qbWNvbmZpZyB6dXLDvGNrZ2VnZWJlblxyXG5cdFx0aWYgKCQudHlwZShwX25vdykgPT09ICd1bmRlZmluZWQnICYmICQudHlwZSh0aGlzLnN0YXRpY09iakZyb21Eb20pICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHQvLyByZXR1cm4gT2JqZWN0XHJcblx0XHRcdHJldHVybiB0aGlzLnN0YXRpY09iakZyb21Eb207XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5zdGF0aWNPYmpGcm9tRG9tID0gSlNPTi5wYXJzZSh0aGlzLl9nZXRBdHRyV2l0aE9yV2l0aG91dFBvc3RmaXhfMSgpLnJlcGxhY2UoLycvZywgXCJcXFwiXCIpKTtcclxuXHR9XHJcblxyXG5cdC8vIGdpYnQgZsO8ciBkYXMgam1wbHVnaW4gZGFzIGVudHNwcmVjaGVuZGUgT2JqZWt0IGF1cyBkZXIgX2NvbmZpZy5qcyB6dXLDvGNrLlxyXG5cdF9nZXRTdGF0aWNDb25maWdPYmooKSB7XHJcblx0XHR2YXIgX29iakZvck15Sm1OYW1lID0gX2NvbmZpZy5kZWZhdWx0W3dpbmRvdy5kYy5oZWxwZXIuY2FtZWxDYXNlKHRoaXMubXlKbU5hbWUpXTtcclxuXHRcdGlmIChfb2JqRm9yTXlKbU5hbWUuaGFzT3duUHJvcGVydHkoJ2V2ZW50JykpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuc3RhdGljT2JqID0gX29iakZvck15Sm1OYW1lO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuc3RhdGljT2JqID0gX29iakZvck15Sm1OYW1lW3RoaXMubmFtZV07XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBDb25maWdPYmplY3QtRnVuY3Rpb25zIEVuZCAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuXHQvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIEdsb2JhbC1TaW5nZWx0b24tRnVuY3Rpb25zIEJlZ2luICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcblx0Z3VhcmFudGVlRENSQUYoKSB7XHJcblx0XHRpZiAod2luZG93LmRjLnJhZi5pdGVyYXRpb25TaW5nbGV0b24pIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0d2luZG93LmRjLnJhZi5pdGVyYXRpb25TaW5nbGV0b24gPSB0cnVlO1xyXG5cdFx0dGhpcy5fY3JlYXRlUkFGT2JqZWN0cygpO1xyXG5cdFx0aWYgKHdpbmRvdy5kYy5kZXYuZGVidWd2aWV3KSB7XHJcblx0XHRcdHRoaXMudGhlbXBDb3VudGVkRnJhbWVzID0gMDtcclxuXHRcdFx0dGhpcy5fYXBwbHlSQUZEZXZlbG9wZXJWaWV3KCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9ldmVyeVJBRigpO1xyXG5cdH1cclxuXHJcblx0X2NyZWF0ZVJBRk9iamVjdHMoKSB7XHJcblx0XHR3aW5kb3cuZGMucmFmLndpbiA9IHtcclxuXHRcdFx0cGFnZVlPZmZzZXQ6IG51bGwsXHJcblx0XHRcdGlubmVySGVpZ2h0OiBudWxsLFxyXG5cdFx0XHRpbm5lcldpZHRoOiBudWxsLFxyXG5cdFx0XHRvdXRlckhlaWdodDogbnVsbCxcclxuXHRcdFx0ZG9jdW1lbnRIZWlnaHQ6IG51bGwsXHJcblx0XHRcdF9zdGFydFRpbWU6IERhdGUubm93KCksXHJcblx0XHRcdF9jb3VudGVyOiAwLFxyXG5cdFx0XHRfcmFmczogbnVsbCxcclxuXHRcdFx0X2F2Z3JhZnM6IG51bGxcclxuXHRcdH07XHJcblx0XHR3aW5kb3cuZGMucmFmLmV4ZWNJdGVyYXRpb25PYmogPSB7XHJcblx0XHRcdGNvdW50UHJvcGVydGllczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIGNvdW50ID0gMDtcclxuXHRcdFx0XHRmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgdGhpcy5wcm9wZXJ0eSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRjb3VudCArPSAxO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY291bnQ7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRfYXBwbHlSQUZEZXZlbG9wZXJWaWV3KCkge1xyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuXHRcdCQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IGNvbG9yOiNlZWU7IGZvbnQtd2VpZ2h0OiBib2xkOyBib3R0b206IDA7IGxlZnQ6IDA7IGJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMik7IHBhZGRpbmctdG9wOiAxcmVtOyBwYWRkaW5nLWxlZnQ6IDFyZW07IHBhZGRpbmctcmlnaHQ6IDFyZW07IHBhZGRpbmctYm90dG9tOiAycmVtOyB3aWR0aDogMTAwJTsgei1pbmRleDogOTk5OVwiPjxzcGFuIHN0eWxlPVwicGFkZGluZzogMXJlbTsgZmxvYXQ6IGxlZnQ7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzAsMzAsMzAsLjgpXCIgaWQ9XCJmcHMtY291bnRlclwiID5hdmc6IC0tLSBmcHMgfCBub3c6IC0tLSBmcHM8L3NwYW4+PC9kaXY+Jyk7XHJcblx0XHR0aGlzLiRhY291bnQgPSAkKCcjZnBzLWNvdW50ZXInKTtcclxuXHJcblx0XHRzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKHdpbmRvdy5kYy5yYWYud2luLl9jb3VudGVyIDwgdGhhdC50aGVtcENvdW50ZWRGcmFtZXMpIHtcclxuXHRcdFx0XHR0aGlzLnRoZW1wQ291bnRlZEZyYW1lcyA9IHRoaXMudGhlbXBDb3VudGVkRnJhbWVzICsgMTAwMDAwMDAxO1xyXG5cdFx0XHR9XHJcblx0XHRcdHdpbmRvdy5kYy5yYWYud2luLl9yYWZzID0gd2luZG93LmRjLnJhZi53aW4uX2NvdW50ZXIgLSB0aGlzLnRoZW1wQ291bnRlZEZyYW1lcztcclxuXHRcdFx0d2luZG93LmRjLnJhZi53aW4uX2F2Z3JhZnMgPSBNYXRoLnJvdW5kKHdpbmRvdy5kYy5yYWYud2luLl9jb3VudGVyIC8gKChEYXRlLm5vdygpIC0gd2luZG93LmRjLnJhZi53aW4uX3N0YXJ0VGltZSkgLyAxMDAwKSk7XHJcblxyXG5cdFx0XHR0aGlzLiRhY291bnQudGV4dCgnYXZnOiAnICsgd2luZG93LmRjLnJhZi53aW4uX2F2Z3JhZnMgKyAnIGZwcyB8IG5vdzogJyArIHdpbmRvdy5kYy5yYWYud2luLl9yYWZzICsgJyBmcHMnKTtcclxuXHJcblx0XHRcdGlmICh3aW5kb3cuZGMucGVyZi5vbkhvbGRBcnJheSAmJiAkLnR5cGUodGhhdC4kaW5pdEJ5UGVyZkNvdW50ZXIpID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHRoaXMuJGFjb3VudC5hZnRlcignPHNwYW4gc3R5bGU9XCJwYWRkaW5nOiAxcmVtOyBmbG9hdDogcmlnaHQ7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzAsMzAsMzAsLjgpXCIgaWQ9XCJpbml0LWJ5LXBlcmYtY291bnRlclwiPiBpbml0LWZ4OiAyLz88L3NwYW4+Jyk7XHJcblx0XHRcdFx0dGhpcy4kaW5pdEJ5UGVyZkNvdW50ZXIgPSAkKCcjaW5pdC1ieS1wZXJmLWNvdW50ZXInKTtcclxuXHRcdFx0XHRpZiAod2luZG93LmRjLnBlcmYubGV2ZWwgPT09IDEpIHRoaXMuJGluaXRCeVBlcmZDb3VudGVyLnRleHQoJyBpbml0LWZ4OiBhbGwgJyk7XHJcblx0XHRcdFx0aWYgKHdpbmRvdy5kYy5wZXJmLmxldmVsID09PSAyKSB0aGlzLiRpbml0QnlQZXJmQ291bnRlci50ZXh0KCcgaW5pdC1meDogMiAnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGF0LnRoZW1wQ291bnRlZEZyYW1lcyA9IHdpbmRvdy5kYy5yYWYud2luLl9jb3VudGVyO1xyXG5cdFx0fS5iaW5kKHRoaXMpLCAxMDAwKTtcclxuXHR9XHJcblxyXG5cdC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgR2xvYmFsLVNpbmdlbHRvbi1GdW5jdGlvbnMgRW5kICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuXHQvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHQvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHQvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHQvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcblx0Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICByYWYtRnVuY3Rpb25zIEhPVC1DT0RFIEJlZ2luICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5cdF9ldmVyeVJBRigpIHtcclxuXHRcdHZhciBfb2xkRG9jdW1lbnRIZWlnaHQgPSB3aW5kb3cuZGMucmFmLndpbi5kb2N1bWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcclxuXHJcblx0XHR3aW5kb3cuZGMucmFmLndpbi5wYWdlWU9mZnNldCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuXHRcdHdpbmRvdy5kYy5yYWYud2luLmlubmVySGVpZ2h0ID0gKHdpbmRvdy5kYy5jbGllbnQuX29yaWVudGF0aW9uX29sZCA9PT0gd2luZG93LmRjLmNsaWVudC5vcmllbnRhdGlvbikgPyB3aW5kb3cuZGMucmFmLndpbi5pbm5lckhlaWdodCA6IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHRcdHdpbmRvdy5kYy5yYWYud2luLmlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHRcdHdpbmRvdy5kYy5yYWYud2luLl9jb3VudGVyID0gd2luZG93LmRjLnJhZi53aW4uX2NvdW50ZXIgKyAxO1xyXG5cdFx0d2luZG93LmRjLnJhZi53aW4uZG9jdW1lbnRIZWlnaHQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcclxuXHJcblx0XHRpZiAod2luZG93LmRjLnJhZi53aW4uX2NvdW50ZXIgPT09IDEwMDAwMDAwMSkge1xyXG5cdFx0XHR3aW5kb3cuZGMucmFmLndpbi5fY291bnRlciA9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yICh2YXIgcHJvcGVydHkgaW4gd2luZG93LmRjLnJhZi5leGVjSXRlcmF0aW9uT2JqKSB7XHJcblx0XHRcdGlmICh3aW5kb3cuZGMucmFmLmV4ZWNJdGVyYXRpb25PYmouaGFzT3duUHJvcGVydHkocHJvcGVydHkpICYmICgnY291bnRQcm9wZXJ0aWVzJyAhPT0gcHJvcGVydHkpKSB7XHJcblx0XHRcdFx0d2luZG93LmRjLnJhZi5leGVjSXRlcmF0aW9uT2JqW3Byb3BlcnR5XSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR3aW5kb3cuZGMuY2xpZW50Ll9vcmllbnRhdGlvbl9vbGQgPSB3aW5kb3cuZGMuY2xpZW50Lm9yaWVudGF0aW9uO1xyXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9ldmVyeVJBRi5iaW5kKHRoaXMpKTtcclxuXHRcdGlmIChfb2xkRG9jdW1lbnRIZWlnaHQgIT09IHdpbmRvdy5kYy5yYWYud2luLmRvY3VtZW50SGVpZ2h0KSB7XHJcblx0XHRcdCQoJ2JvZHknKS50cmlnZ2VyKCdkYy1kb2N1bWVudEhlaWdodENoYW5nZScpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X3JlbmRlcihlKSB7XHJcblx0XHRpZiAoKHdpbmRvdy5kYy5yYWYud2luLl9jb3VudGVyICUgdGhpcy5yZW5kZXJEZWxheSkgIT09IDApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuJGVsZW1bMF0ub2Zmc2V0SGVpZ2h0ID09PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGlmICghdGhpcy5vbmVUaW1lRXhlYyAmJiBldmFsKHRoaXMuY29uZGl0aW9uU291cmNlKSkge1xyXG5cdFx0XHR0aGlzLl9leGVjKGUpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5vbmVUaW1lRXhlYyAmJiBldmFsKHRoaXMuY29uZGl0aW9uU291cmNlKSkge1xyXG5cdFx0XHR0aGlzLl9leGVjKGUpO1xyXG5cdFx0XHR0aGlzLl9yZW1vdmVSZW5kZXJGdW5jdGlvbkZyb21SYWZFeGVjSXRlcmF0aW9uT2JqKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIHJhZi1GdW5jdGlvbnMgSE9ULUNPREUgRW5kICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG5cdC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgYWRkL3JlbW92ZSByZW5kZXJGdW5jdGlvbnMgQmVnaW4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuXHRfYWRkUmVuZGVyRnVuY3Rpb25Ub1JhZkV4ZWNJdGVyYXRpb25PYmooZSkge1xyXG5cdFx0dGhpcy5yZW5kZXJGdW5jdGlvbkluZGV4ID0gd2luZG93LmRjLnJhZi5leGVjSXRlcmF0aW9uT2JqLmNvdW50UHJvcGVydGllcygpO1xyXG5cdFx0d2luZG93LmRjLnJhZi5leGVjSXRlcmF0aW9uT2JqWydyZW5kZXJGdW5jdGlvbl8nICsgdGhpcy5yZW5kZXJGdW5jdGlvbkluZGV4XSA9IHRoaXMuX3JlbmRlci5iaW5kKHRoaXMsIGUpO1xyXG5cdH1cclxuXHJcblx0X3JlbW92ZVJlbmRlckZ1bmN0aW9uRnJvbVJhZkV4ZWNJdGVyYXRpb25PYmooKSB7XHJcblx0XHR3aW5kb3cuZGMucmFmLmV4ZWNJdGVyYXRpb25PYmpbJ3JlbmRlckZ1bmN0aW9uXycgKyB0aGlzLnJlbmRlckZ1bmN0aW9uSW5kZXhdID0gbnVsbDtcclxuXHRcdGRlbGV0ZSB3aW5kb3cuZGMucmFmLmV4ZWNJdGVyYXRpb25PYmpbJ3JlbmRlckZ1bmN0aW9uXycgKyB0aGlzLnJlbmRlckZ1bmN0aW9uSW5kZXhdO1xyXG5cdH1cclxuXHJcblx0Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBhZGQvcmVtb3ZlIHJlbmRlckZ1bmN0aW9ucyBFbmQgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuXHQvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIENvbW1vbi1GdW5jdGlvbnMgdXNlIGJ5IGFjdGlvbnMgQmVnaW4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcblx0Z2V0UmVsYXRlZFRvRWxlbSgpIHtcclxuXHRcdHJldHVybiAodGhpcy5yZWxhdGVkVG8pID8gdGhpcy5yZWxhdGVkVG8gOiB0aGlzLnJlbGF0ZWRUbyA9ICgodGhpcy5pcygncmVsYXRlZFRvJykgIT09ICcnKSA/ICQodGhpcy5pcygncmVsYXRlZFRvJykpIDogdGhpcy4kZWxlbSk7XHJcblx0fVxyXG5cclxuXHRnZXRVbmlxdWVJZCgpIHtcclxuXHRcdGlmICh0aGlzLnVuaXF1ZUlkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnVuaXF1ZUlkO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMudW5pcXVlSWQgPSB3aW5kb3cuZGMuaGVscGVyLnV1SUQuZ2VuZXJhdGUoKTtcclxuXHR9XHJcblxyXG5cdF9maW5pc2hpbmcocF8kZGF0YSkge1xyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cdFx0dGhpcy5fc2Nyb2xsVG8oKTtcclxuXHRcdGlmICgkLnR5cGUocF8kZGF0YSkgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cF8kZGF0YVxyXG5cdFx0XHRcdFx0LnJlcXVpcmVtZW50c0ZvckptUGx1Z2lucygpXHJcblx0XHRcdFx0XHQudHJpZ2dlclNlbGZleGVjT2JqKClcclxuXHRcdFx0XHRcdC5waWN0dXJlZmlsbCgpO1xyXG5cdFx0XHRcdHRoYXQuX2NhbGxiYWNrKCk7XHJcblx0XHRcdH0sIDIwMCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2NhbGxiYWNrKCk7XHJcblx0fVxyXG5cclxuXHRfc2Nyb2xsVG8oKSB7XHJcblx0XHRpZiAodGhpcy5pcygnc2Nyb2xsVG8nKSA9PT0gJycpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCQudHlwZSh0aGlzLmlzKCdzY3JvbGxUbycpKSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0d2luZG93LmRjLmhlbHBlci5zY3JvbGxUb1Bvc2l0aW9uKHRoaXMuaXMoJ3Njcm9sbFRvJyksICh0aGlzLmlzKCdzcGVlZCcpICE9PSAnJykgPyBwYXJzZUludCh0aGlzLmlzKCdzcGVlZCcpLCAxMCkgOiB1bmRlZmluZWQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAoJC50eXBlKHRoaXMuaXMoJ3Njcm9sbFRvJykpID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlmICgkLnR5cGUoJCh0aGlzLmlzKCdzY3JvbGxUbycpKSkgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMuaXMoJ3Njcm9sbFRvJykpLnNjcm9sbFRvTWUoKHRoaXMuaXMoJ3Njcm9sbFRvT2Zmc2V0JykgIT09ICcnKSA/IHBhcnNlSW50KHRoaXMuaXMoJ3Njcm9sbFRvT2Zmc2V0JyksIDEwKSA6IDAsICh0aGlzLmlzKCdzcGVlZCcpICE9PSAnJykgPyBwYXJzZUludCh0aGlzLmlzKCdzcGVlZCcpLCAxMCkgOiB1bmRlZmluZWQpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR3aW5kb3cuZGMuZGV2Lndhcm4oJ2ZhbHNjaGUgYW5nYWJlIGbDvHIgc2Nyb2xsVG8nKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdHdpbmRvdy5kYy5kZXYuZXJyb3IoJ2ZhbHNjaGUgYW5nYWJlIGbDvHIgc2Nyb2xsVG8nKTtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUubWVzc2FnZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRfY2FsbGJhY2soKSB7XHJcblx0XHRpZiAoJC50eXBlKHRoaXMuaXMoJ2NhbGxiYWNrJykgIT09ICd1bmRlZmluZWQnKSkgZXZhbCh0aGlzLmlzKCdjYWxsYmFjaycpLnJlcGxhY2UoL1xcbi9nLCAnJykpO1xyXG5cdH1cclxuXHJcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgQ29tbW9uLUZ1bmN0aW9ucyB1c2UgYnkgYWN0aW9ucyBFbmQgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG59XHJcbiJdfQ==
